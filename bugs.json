{"tickets": [{
  "status": "closed",
  "reported_by_id": "4e8a1d76b9363c20cf000dcf",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "lostcontrol",
  "description": "The fail2ban log file can be access with write\r\npermission by everyone. This could be a security issue.\r\n\r\nThanks to Yaroslav Halchenko who found this issue.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban.log is world-open for writing",
  "discussion_thread": {
    "_id": "4702890a",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nFixed in the CVS branch FAIL2BAN-0\\_5",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-12 12:47:41",
        "slug": "37a9",
        "subject": "#1 fail2ban.log is world-open for writing"
      },
      {
        "text": "- **status**: open --> closed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-12 12:47:41",
        "slug": "c1d5",
        "subject": "#1 fail2ban.log is world-open for writing"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-07-12 12:47:41",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf21c2718464f1a12f6c7",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/4702890a/",
  "ticket_num": 1,
  "custom_fields": {
    "_priority": "9"
  },
  "created_date": "2005-07-08 09:57:22"
},{
  "status": "closed",
  "reported_by_id": "51769796e88f3d77c1994eb5",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "neversleepy",
  "description": "If the config file option \"ignoreip\" is blank, fail2ban\r\nexits with error: \"socket.error: illegal IP address\r\nstring passed to inet\\_aton\"",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "crash on program load if \"ignoreip\" is blank.",
  "discussion_thread": {
    "_id": "7029482f",
    "posts": [
      {
        "text": "Logged In: NO \n\nI'm unable to reproduce this bug. Which version of Python do\r\nyou have?\r\n\r\nThank you",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2005-07-19 16:34:42",
        "slug": "169f",
        "subject": "#2 crash on program load if \"ignoreip\" is blank."
      },
      {
        "text": "Fail2Ban config file (produces ignore IP error)",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/7029482f/4e89/attachment/fail2ban.conf",
            "bytes": 7316
          }
        ],
        "author": "neversleepy",
        "timestamp": "2005-07-20 17:58:19",
        "slug": "4e89",
        "subject": "#2 crash on program load if \"ignoreip\" is blank."
      },
      {
        "text": "Logged In: YES \nuser\\_id=634475\n\nI have attached a copy of the config file which reproduced\r\nthis bug.\r\n\r\nI am on Debian\\(Sarge\\), using Python 2.3.5\\(2\\).  \\(2\\) being\r\ndebian's revision number.\r\nUsing Yaroslav Halchenko's package version 0.5.0-1\r\n\r\nI just did a lot of checking between two systems and\r\nresolved this problem by ensuring the following Debian\r\npackages were at Debian-Sarge level \\(upgrading\\): hostname\r\niptables ncurses-base ncurses-bin sed strace whois\r\n\r\nIf one or more of these applications are needed in fail2ban;\r\nit would be good for Yaroslav to put a version requirement\r\non his package definition for Sarge versions and newer.\r\n\r\nSo it was an older version of one of these applications that\r\ncaused the issue.",
        "attachments": [],
        "author": "neversleepy",
        "timestamp": "2005-07-20 17:58:19",
        "slug": "bd43",
        "subject": "#2 crash on program load if \"ignoreip\" is blank."
      },
      {
        "text": "Logged In: YES \nuser\\_id=634475\n\nThis is random.\r\n\r\nNoticed fail2ban not running on the server, ran in debug\r\nmode, and now the illegal IP address errors for \"ignoreip\"\r\nare back \\(when the field is blank\\).\r\n\r\nNo changes made, after reporting sucessful a couple hours ago.",
        "attachments": [],
        "author": "neversleepy",
        "timestamp": "2005-07-20 20:19:54",
        "slug": "a0fc",
        "subject": "#2 crash on program load if \"ignoreip\" is blank."
      },
      {
        "text": "Logged In: NO \n\nThank you\r\n\r\nI can reproduce it now :-\\) I just copy your \"ignoreip\"\r\nsection to my config file and it crashes :-/\r\n\r\nI will try to fix this before 0.5.1.",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2005-07-22 20:11:59",
        "slug": "993c",
        "subject": "#2 crash on program load if \"ignoreip\" is blank."
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nFixed in CVS branch FAIL2BAN-0\\_5",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-22 21:15:28",
        "slug": "b97c",
        "subject": "#2 crash on program load if \"ignoreip\" is blank."
      },
      {
        "text": "- **status**: open --> closed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-22 21:15:28",
        "slug": "cd16",
        "subject": "#2 crash on program load if \"ignoreip\" is blank."
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-07-22 21:15:28",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf21d2718464f1a12f6d8",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/7029482f/",
  "ticket_num": 2,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-07-16 20:57:42"
},{
  "status": "closed",
  "reported_by_id": "51769796e88f3d77c1994eb5",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "neversleepy",
  "description": "fail2ban does not properly check for an invalid .pid\r\nfile upon startup.\r\n\r\nWhen the .pid file of a crashed fail2ban session\r\nexists, no checks are made by a new daemon to verify\r\nthe process ID in the .pid is truly valid.\r\n\r\nError given by debug mode: \"Fail2Ban already running\r\nwith PID &lt;pid\\# in fail2ban.pid file&gt;\"\r\n\r\nA check of running processes verifies fail2ban is truly\r\nnot running on this PID.\r\n\r\nSimply deleting the fail2ban.pid file; is a\r\nwork-around.  Although this is not desirealbe on\r\nsystems duing bootup.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "improper checking of fail2ban.pid file upon program startup",
  "discussion_thread": {
    "_id": "7d264d04",
    "posts": [
      {
        "text": "Logged In: NO \n\nI don't know how this handle by others daemons. Checking if\r\na fail2ban process is already running with the PID is the\r\nsame as checking for a running instance without a PID file.\r\n\r\nApcupsd doesn't check for a running instance if it finds a\r\nPID file.\r\n\r\nI don't know how Apache, MySQL, etc, handle this.\r\n\r\nThank you",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2005-07-19 16:46:32",
        "slug": "d267",
        "subject": "#3 improper checking of fail2ban.pid file upon program startup"
      },
      {
        "text": "Logged In: YES \nuser\\_id=820001\n\nPID files are a pain =\\) Many daemons/apps use them and \r\nlater fail to start when for some reason the file is still existing.\r\n\r\nI thought the reason to have the .pid file was not to use the .\r\npid file iteslf as evidence, but to also check the \"PID\" specified \r\ninside the file to see if the application is running. \r\n\r\nAnother, easy way is also to do \\`pidof fail2ban\\` which is \r\ncleaner and nicer than a .pid file. What do you think of this?",
        "attachments": [],
        "author": "andewid",
        "timestamp": "2005-07-20 10:42:06",
        "slug": "c825",
        "subject": "#3 improper checking of fail2ban.pid file upon program startup"
      },
      {
        "text": "Logged In: YES \nuser\\_id=634475\n\nI made an init.d script previously I can adapt to fit this.\r\nI'll send it over this week.  :\\)",
        "attachments": [],
        "author": "neversleepy",
        "timestamp": "2005-07-20 17:02:53",
        "slug": "8fe3",
        "subject": "#3 improper checking of fail2ban.pid file upon program startup"
      },
      {
        "text": "Logged In: NO \n\nDo you think it would be better to use \"pidof\" or \"ps|grep\"\r\nin order to :\r\n\r\n1/ Check if a fail2ban process is already running\r\n2/ Get the PID of the running process in order to kill it\r\n\\(fail2ban -k\\)\r\n\r\nI don't really like using system commands to do that :-/\r\nMoreover is \"pidof\" available on all systems? Does someone\r\nknow how this is handle in mysql or apache?",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2005-07-22 07:44:48",
        "slug": "0664",
        "subject": "#3 improper checking of fail2ban.pid file upon program startup"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nShould be \"fixed\" in CVS branch FAIL2BAN-0\\_5.\r\n\r\nThe PID lock file should be removed when Fail2Ban crashes.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-08-04 20:54:36",
        "slug": "6f0a",
        "subject": "#3 improper checking of fail2ban.pid file upon program startup"
      },
      {
        "text": "- **status**: open --> closed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-08-04 20:54:36",
        "slug": "934f",
        "subject": "#3 improper checking of fail2ban.pid file upon program startup"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-08-04 20:54:36",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2262718464f1a12f70a",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/7d264d04/",
  "ticket_num": 3,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-07-16 21:04:10"
},{
  "status": "closed",
  "reported_by_id": "50279623fd48f80fdc30fb9f",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "tom_crane",
  "description": "I have encountered some problems using fail2ban.\r\n\r\n\\(1\\) With version 0.4.1 it is being confused by the\r\ntimestamps obtained from the logfile\r\n\\(/var/log/messages\\).  This file is fairly large: 69MB &\r\n788233 lines.  It also claims the logfile has been\r\nrotated which it certainly has not.  After processing\r\nthe whole file, it appears to go back to the beginning\r\nand start all over again, unbanning the just-banned IPs\r\nin the process.\r\n\r\n\\(2\\) I tried version 0.5.0 but it fails crashes at startup.\r\n\r\n\\(3\\) Here are my system details;\r\nOS: Slackware 9.0-current Linux\r\nlog4py: version 1.3\r\nPython: Version 2.4.1\r\n\r\n\\(4\\) I am attaching the conf files and debug O/P in a\r\ntarball.\r\nThe file miscinfo.txt contains some samples from my\r\nmessages file, taken from the top & bottom for the\r\ntimestamp information, and a sample of some sshd probers.\r\n\r\n\\(5\\) Finally, an iptables suggestion: I think it would\r\nbe preferable to have fail2ban write its stuff to a\r\nprivate chain, which could then optionally be inserted\r\ninto the input chain a few places downstream, eg.\r\n\r\niptables -N fail2ban\r\niptables -I INPUT 5 -j fail2ban\r\n\r\nThanks\r\nTom Crane",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Some misc. fail2ban problems",
  "discussion_thread": {
    "_id": "cd592130",
    "posts": [
      {
        "text": "tarball with debugging O/P, conf files etc.",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/cd592130/e0e5/attachment/debugging.tar.gz",
            "bytes": 63069
          }
        ],
        "author": "tom_crane",
        "timestamp": "2005-07-20 18:08:43",
        "slug": "e0e5",
        "subject": "#4 Some misc. fail2ban problems"
      },
      {
        "text": "Logged In: NO \n\n1/ You are right. Fail2ban is being confused by the\r\ntimestamps. When no year field is available, Fail2ban uses\r\nthe current year. Thus, it thinks that Oct 10 is Oct 10\r\n2005\\. I will fix this. Thank you :-\\)\r\n\r\n2/ With Fail2Ban &gt;= 0.5, you must start it with\r\n\"/usr/bin/fail2ban\". You must also delete the file\r\n\"/usr/bin/fail2ban.py\".\r\n\r\n5/ This is the default config in CVS and will be in 0.5.1\r\n\r\nThank you very much for the tarball, it was really helpful \\!",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2005-07-22 20:02:35",
        "slug": "91d6",
        "subject": "#4 Some misc. fail2ban problems"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nFixed in CVS branch FAIL2BAN-0\\_5",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-22 21:16:32",
        "slug": "2b59",
        "subject": "#4 Some misc. fail2ban problems"
      },
      {
        "text": "- **status**: open --> closed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-22 21:16:32",
        "slug": "977f",
        "subject": "#4 Some misc. fail2ban problems"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-07-22 21:16:32",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2292718464f1a12f733",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/cd592130/",
  "ticket_num": 4,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-07-20 18:08:42"
},{
  "status": "closed",
  "reported_by_id": "50279623fd48f80fdc30fb9f",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "tom_crane",
  "description": "I'm pleased to say that I now have version 0.5.1\r\nworking.  However, I feel the memory usage is\r\nexcessive.  It increases as it initially processes my\r\nrather large \\(69MB\\) syslog file and then retains it\r\nthereafter. Currently the fail2ban process has &gt;100MB\r\nvirtual size.\r\n\r\nI presume fail2ban is storing the entire contents of\r\nthe syslog file in memory?  Does it really need to do\r\nthis?  Would a 'tail -f' type scheme be better?\r\n\r\nAn unrelated suggestion: Could you provide an option to\r\nlog via syslogd instead of a plain logfile.\r\n\r\nThanks\r\nTom Crane \r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Excessive memory usage",
  "discussion_thread": {
    "_id": "2ccf5a6b",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nFixed in CVS branch FAIL2BAN-0\\_5\r\n\r\nI was using readlines\\(\\) which load the whole file in memory\r\n:-/ Fail2ban now uses around 7MB when parsing a &gt;100MB log file.\r\n\r\nFor syslogd, please look at the \"logtargets\" in\r\nfail2ban.conf.default ;-\\)\r\n\r\nThank you for this bug report",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-28 20:43:55",
        "slug": "4ea6",
        "subject": "#5 Excessive memory usage"
      },
      {
        "text": "- **status**: open --> closed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-07-28 20:43:55",
        "slug": "067f",
        "subject": "#5 Excessive memory usage"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-07-28 20:43:55",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf22b2718464f1a12f755",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/2ccf5a6b/",
  "ticket_num": 5,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-07-27 19:24:05"
},{
  "status": "closed-fixed",
  "reported_by_id": "50279623fd48f80fdc30fb9f",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "tom_crane",
  "description": "Hello,\r\nI have installed 0.5.2 but am still encountering\r\nproblems.  Fail2ban is still incorrectly claiming that\r\nmy /var/log/messages file is being rotated, leading to\r\nthe file being rescanned and some old sshd logfails\r\nbeing banned.  I have been running 0.5.2 with -vv and\r\nresults are in the attached tarball. NB: re; the sample\r\nof my mesages file, the entries dated the 9th August --\r\nthese logs are from at least a year ago.\r\n\r\nPrior to installing 0.5.2 I was running the CVS version\r\nof 0.5.1.  There was also spurious rescanning but I\r\ndon't have much detail \\(was running without -v\\).  The\r\nreason for mentioning this, is that some local IPs with\r\nvery old logfails in the messages file were being\r\nspuriously banned -- despite their IP block being\r\nexcluded via the conf file ignoreip line.  See my\r\ncurrent conf file in the tarball.\r\n\r\nThanks\r\nTom Crane.\r\n\r\nPs. apologies for the double post",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Datastamp / spurious log rotation",
  "discussion_thread": {
    "_id": "641941e9",
    "posts": [
      {
        "text": "tarball",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/641941e9/f68b/attachment/09aug05.tar.gz",
            "bytes": 11846
          }
        ],
        "author": "tom_crane",
        "timestamp": "2005-08-10 18:18:41",
        "slug": "f68b",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\n\"despite their IP block being excluded via the conf file\r\nignoreip line\"\r\n\r\nmmhh... Try \"ignoreip = 134.219.0.0/16\" and not /24\r\n\r\nDo you have different timestamp patterns in\r\n/var/log/messages or line with no timestamp ? If the latest\r\nline of the file has no timestamp, getTime\\(\\) will return 0.\r\nThis could be the problem...",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-08-11 21:57:47",
        "slug": "e3f0",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "Logged In: YES \nuser\\_id=1222528\n\nThanks for pointing out the ignoreip problem.  I'd just\r\ncopied the example without remembering I was on a class B\r\nnetwork\\!\r\n\r\nre; the timestamps -- there are no lines without timestamps\r\nor an alternative format.  The following regex egrep matches\r\nall lines and with -v it matches no lines.\r\n\r\negrep '^\\[\\[:alpha:\\]\\]\\{3\\} \\{1,2\\}\\[0-9\\]\\{1,2\\}\r\n\\[0-9\\]\\{2\\}:\\[0-9\\]\\{2\\}:\\[0-9\\]\\{2\\} '  /var/log/messages\r\n\r\nI have never seen an incomplete latest line.  One thing the\r\nfile does contain are instances where the time occasionally\r\n'goes backards'.  It takes a few seconds after the system\r\nboots for the xntpd daemon to kick in and set the correct\r\nsystem time.  Surely fail2ban should not choke on that?\r\n\r\nI have put a file of the first 16 columns of my messages\r\nfile on  http://www.mklab.rhul.ac.uk/~tom/messages.16nq.bz2\r\nsince it is quite big.\r\nI hope this is helpful.\r\n\r\nThanks Tom.\r\n",
        "attachments": [],
        "author": "tom_crane",
        "timestamp": "2005-08-12 17:28:54",
        "slug": "cd13",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nI have not had enough time yet to look at your log file :-\\(\r\nSorry...\r\n\r\nThe ignoreip problem could also be caused by bug \\#1262345.\r\nIt is fixed in CVS.\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-08-17 19:38:24",
        "slug": "b367",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "Logged In: YES \nuser\\_id=1222528\n\nre; the datestamping problem -- I don't know Python at all\r\nbut had a quick look at the source and I agree it looks like\r\na last-line-blank problem.  I imagine if syslogd just writes\r\nits logfile as a Unix byte stream, it must be possible for a\r\nprogram reading that file as a byte stream to catch it\r\nhaving just written an \\n. A few suggestions/questions;\r\n\r\n\\(1\\) If fail2ban encounters a blank line should it not simply\r\nskip it? Ie. not parse anything as a date that does not\r\nmatch a regex like the one I gave below?\r\n\r\n\\(2\\) Could you make me a debugging-modded fail2ban.py which\r\nchecks for and explicitly prints out a suitable message when\r\n-vv is given -- so we can tell for sure if it is blank lines?\r\n\r\n\\(3\\) If you don't agree with \\(1\\) above, how about simply\r\nrejecting any date parsed from the messages file which has a\r\nvalue of zero, for log-rotation checking purposes.  Afterall\r\n\\(time\\_t\\)0 amounts to 1-jan-1970:00:00:00 or similar doesn't\r\nit? -- which should never be legitimately encountered...\r\n\r\nThanks\r\nTom.",
        "attachments": [],
        "author": "tom_crane",
        "timestamp": "2005-08-19 19:18:55",
        "slug": "f30a",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nI can not reproduce this bug... However I hope it is fixed\r\nin the latest CVS.\r\n\r\nMaybe you should purge your logs from time to time ;-\\)",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-09-05 19:58:33",
        "slug": "ccc1",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "- **status**: open --> open-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-09-05 19:58:33",
        "slug": "00a0",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nNo more news... Should be fixed now",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-11-20 17:13:10",
        "slug": "3558",
        "subject": "#6 Datastamp / spurious log rotation"
      },
      {
        "text": "- **status**: open-fixed --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-11-20 17:13:10",
        "slug": "75f4",
        "subject": "#6 Datastamp / spurious log rotation"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-11-20 17:13:10",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf22c2718464f1a12f766",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/641941e9/",
  "ticket_num": 6,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-08-10 18:18:40"
},{
  "status": "closed",
  "reported_by_id": "512533472718463538332bc1",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "ud3",
  "description": "After the fix to \\#1239557, ignoreip no longer accepts\r\na.b.c.d/m as input.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "ignoreip for networks broken",
  "discussion_thread": {
    "_id": "6ec8852a",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nThank you \\!\r\n\r\nShould be fixed in CVS branch FAIL2BAN-0\\_5",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-08-17 19:33:29",
        "slug": "f3cd",
        "subject": "#7 ignoreip for networks broken"
      },
      {
        "text": "- **status**: open --> closed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-08-17 19:33:29",
        "slug": "a027",
        "subject": "#7 ignoreip for networks broken"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-08-17 19:33:29",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf22f2718464f1a12f79f",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/6ec8852a/",
  "ticket_num": 7,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-08-17 17:35:49"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "Hi,\r\n\r\nwhen sending email, fail2ban does not add a \"Date:\" header.  Not all MTAs correct this error \\(and some will even correctly refuse mail without a Date\\). Below patch should solve the issue \\(note I'm not a python programmer, this was largely copied from http://groups.google.de/group/comp.lang.python/browse\\_thread/thread/8a9cfb2f9122ff06/7b8851a5e19cc839?lnk=st&q=smtplib+%22date+header%22&rnum=3&hl=de\\#7b8851a5e19cc839 \\).\r\n\r\n\\--- /usr/share/fail2ban/utils/mail.py-old       2005-09-09 19:04:30.000000000 +0200\r\n+++ /usr/share/fail2ban/utils/mail.py   2005-09-09 19:36:15.000000000 +0200\r\n@@ -27,6 +27,7 @@\r\nimport logging, smtplib\r\n\r\nfrom utils.strings import replaceTag\r\n+from time import strftime,gmtime\r\n\r\n\\# Gets the instance of the logger.\r\nlogSys = logging.getLogger\\(\"fail2ban\"\\)\r\n@@ -55,8 +56,9 @@\r\nsubj = replaceTag\\(subject, aInfo\\)\r\nmsg = replaceTag\\(message, aInfo\\)\r\n\r\n\\-               mail = \\(\"From: %s\\r\\nTo: %s\\r\\nSubject: %s\\r\\n\\r\\n\" %\r\n\\-                                \\(self.fromAddr, \", \".join\\(self.toAddr\\), subj\\)\\) + msg\r\n\\+               mail = \\(\"From: %s\\r\\nTo: %s\\r\\nDate: %s\\r\\nSubject: %s\\r\\n\\r\\n\" %\r\n\\+                                \\(self.fromAddr, \", \".join\\(self.toAddr\\),\r\n\\+                                strftime\\(\"%a, %d %b %Y %H:%M:%S +0000\", gmtime\\(\\)\\), subj\\)\\) + msg\r\n\r\ntry:\r\nserver = smtplib.SMTP\\(self.host, self.port\\)\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Add Date to email header (patch included)",
  "discussion_thread": {
    "_id": "3ea0161b",
    "posts": [
      {
        "text": "- **status**: open --> closed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-09-12 14:46:32",
        "slug": "0dcb",
        "subject": "#8 Add Date to email header (patch included)"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nThank you \\!\r\n\r\nFixed in CVS branch FAIL2BAN-0\\_5",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-09-12 14:46:33",
        "slug": "cf10",
        "subject": "#8 Add Date to email header (patch included)"
      },
      {
        "text": "- **status**: closed --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2005-09-12 14:46:33",
        "slug": "4cfc",
        "subject": "#8 Add Date to email header (patch included)"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2005-09-12 14:46:33",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf22f2718464f1a12f7b0",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/3ea0161b/",
  "ticket_num": 8,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-09-09 17:41:43"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "fail2ban is not finding failures that I'd like it to to\r\nprevent spam-probing of virtual domains on my server.\r\n\r\nhere is the configuration as I've entered it:\r\n\r\n\\[CourierSMTP\\]\r\nenabled = true\r\nlogfile = /var/log/mail.err\r\nfwstart = iptables -N fail2ban-smtp\r\niptables -I INPUT -p tcp --dport smtp -j\r\nfail2ban-smtp\r\niptables -A fail2ban-smtp -j RETURN\r\n\r\nfwend = iptables -D INPUT -p tcp --dport smtp -j\r\nfail2ban-smtp\r\niptables -D fail2ban-smtp -j RETURN\r\niptables -X fail2ban-smtp\r\n\r\nfwban = iptables -I fail2ban-smtp 1 -s &lt;ip&gt; -j DROP\r\nfwunban = iptables -D fail2ban-smtp -s &lt;ip&gt; -j DROP\r\n\r\ntimeregex = \\S\\{3\\} \\d\\{2\\} \\d\\{2\\}:\\d\\{2\\}:\\d\\{2\\}\r\ntimepattern = %%b %%d %%H:%%M:%%S\r\n\r\nfailregex = 550 User Unknown\r\n\r\nThe logs look like this:\r\n\r\nSep 23 13:19:04 SERVER courieresmtpd:\r\nerror,relay=::ffff:200.138.205.232,from=&lt;pliq\\_ljgg\\_o\\_r\\_l@PROBED.org&gt;,to=&lt;agaisin@PROBED.org&gt;:\r\n550 User unknown.\r\n\r\nYes, the from domain name is set to the to in this\r\nexample. As far as I can see the RE in the dns.py\r\nstringtoip function should catch the ip addres by\r\npattern here. SSH is working fine, but I'm getting\r\nabout a thousand of these probes a day in my mail.err,\r\nand I'd like very much to cut down on these.\r\n\r\nThanks,\r\n\r\n-Peter",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "not finding failures four courier-smtp",
  "discussion_thread": {
    "_id": "a0dd4894",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nFail2ban 0.6 and previous version cannot handle such things\r\nright. This will be changed in 0.7.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-16 13:18:54",
        "slug": "cbb4",
        "subject": "#9 not finding failures four courier-smtp"
      },
      {
        "text": "- **status**: open --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-16 13:18:54",
        "slug": "705d",
        "subject": "#9 not finding failures four courier-smtp"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nFixed in Subversion repository. Will be in 0.7.0.\r\n\r\nThere is no courier-smtp configuration yet but everything\r\nneeded to create one should be available.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-08-22 06:19:09",
        "slug": "6aad",
        "subject": "#9 not finding failures four courier-smtp"
      },
      {
        "text": "- **status**: open-accepted --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-08-22 06:19:09",
        "slug": "5c4e",
        "subject": "#9 not finding failures four courier-smtp"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-08-22 06:19:09",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2302718464f1a12f7c6",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/a0dd4894/",
  "ticket_num": 9,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2005-09-23 17:44:17"
},{
  "status": "closed-accepted",
  "reported_by_id": "51acf2322718464f1a12f7e2",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "zugeschmiert",
  "description": "hi, here is a template that seems to work for me with\r\nvsftpd:\r\n\r\n\\[VSFTPD\\]\r\n\\# Option:  enabled\r\n\\# Notes.:  enable monitoring for this section.\r\n\\# Values:  \\[true | false\\]  Default:  true\r\n\\#\r\nenabled = true\r\n\r\n\\# Option:  logfile\r\n\\# Notes.:  logfile to monitor.\r\n\\# Values:  FILE  Default:  /var/log/secure\r\n\\#\r\nlogfile = /var/log/vsftpd.log\r\n\r\n\\# Option:  fwstart\r\n\\# Notes.:  command executed once at the start of Fail2Ban\r\n\\# Values:  CMD  Default:\r\n\\#\r\nfwstart = iptables -N fail2ban-vsftpd\r\niptables -I INPUT -p tcp --dport ftp -j\r\nfail2ban-vsftpd\r\niptables -A fail2ban-vsftpd -j RETURN\r\n\r\n\\# Option:  fwend\r\n\\# Notes.:  command executed once at the end of Fail2Ban\r\n\\# Values:  CMD  Default:\r\n\\#\r\nfwend = iptables -D INPUT -p tcp --dport ftp -j\r\nfail2ban-vsftpd\r\niptables -F fail2ban-vsftpd\r\niptables -X fail2ban-vsftpd\r\n\r\n\\# Option:  fwcheck\r\n\\# Notes.:  command executed once before each fwban command\r\n\\# Values:  CMD  Default:\r\n\\#\r\nfwcheck = iptables -L INPUT | grep -q fail2ban-vsftpd\r\n\r\n\\# Option:  fwbanrule\r\n\\# Notes.:  command executed when banning an IP. Take\r\ncare that the\r\n\\#          command is executed with Fail2Ban user rights.\r\n\\# Tags:    &lt;ip&gt;  IP address\r\n\\#          &lt;failures&gt;  number of failures\r\n\\#          &lt;failtime&gt;  unix timestamp of the last failure\r\n\\#          &lt;bantime&gt;  unix timestamp of the ban time\r\n\\# Values:  CMD\r\n\\# Default: iptables -I INPUT 1 -s &lt;ip&gt; -j DROP\r\n\\#\r\nfwban = iptables -I fail2ban-vsftpd 1 -s &lt;ip&gt; -j DROP\r\n\r\n\\# Option:  fwunbanrule\r\n\\# Notes.:  command executed when unbanning an IP. Take\r\ncare that the\r\n\\#          command is executed with Fail2Ban user rights.\r\n\\# Tags:    &lt;ip&gt;  IP address\r\n\\#          &lt;bantime&gt;  unix timestamp of the ban time\r\n\\#          &lt;unbantime&gt;  unix timestamp of the unban time\r\n\\# Values:  CMD\r\n\\# Default: iptables -D INPUT -s &lt;ip&gt; -j DROP\r\n\\#\r\nfwunban = iptables -D fail2ban-vsftpd -s &lt;ip&gt; -j DROP\r\n\r\n\\# Option:  timeregex\r\n\\# Notes.:  regex to match timestamp in VSFTPD logfile.\r\n\\# Values:  \\[Mar  7 17:53:28\\]\r\n\\# Default: \\S\\{3\\}\\s\\{1,2\\}\\d\\{1,2\\} \\d\\{2\\}:\\d\\{2\\}:\\d\\{2\\}\r\n\\#\r\ntimeregex = \\S\\{3\\}\\s\\{1,2\\}\\d\\{1,2\\} \\d\\{2\\}:\\d\\{2\\}:\\d\\{2\\}\r\n\r\n\\# Option:  timepattern\r\n\\# Notes.:  format used in \"timeregex\" fields\r\ndefinition. Note that '%' must be\r\n\\#          escaped with '%' \\(see\r\nhttp://rgruet.free.fr/PQR2.3.html\\#timeModule\\)\r\n\\# Values:  TEXT  Default:  %%b %%d %%H:%%M:%%S\r\n\\#\r\ntimepattern = %%b %%d %%H:%%M:%%S\r\n\r\n\\# Option:  failregex\r\n\\# Notes.:  regex to match the password failures\r\nmessages in the logfile.\r\n\\# Values:  TEXT  Default:  Authentication\r\nfailure|Failed password|Invalid user\r\n\\#\r\nfailregex = FAIL LOGIN\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "support for vsftpd",
  "discussion_thread": {
    "_id": "4f95a106",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nThank you. Added to CVS. Will be in 0.6.1",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-11 15:30:46",
        "slug": "32f7",
        "subject": "#10 support for vsftpd"
      },
      {
        "text": "- **status**: open --> closed-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-11 15:30:46",
        "slug": "6a07",
        "subject": "#10 support for vsftpd"
      },
      {
        "text": "Logged In: YES \nuser\\_id=930060\n\nCan you please show us what settings you used for the \r\nvsftpd server?\r\n\r\nIn particular, can you display the settings you used \r\nfor /etc/vsftpd/vsftpd.conf that enabled vsftpd to generate \r\nlogin failure messages with the correct timestamps in a \r\nformat that could be recongnized by fail2ban?\r\n\r\nMuch tnx\\!\r\n\r\nHarry",
        "attachments": [],
        "author": "rarig",
        "timestamp": "2006-02-15 13:51:56",
        "slug": "eb7f",
        "subject": "#10 support for vsftpd"
      },
      {
        "text": "Logged In: YES \nuser\\_id=1442281\n\nmy vsftpd config is nothing special i think.\r\n\r\nmy sw versions:\r\n\r\nsys-apps/iproute2 2.6.11.20050310-r1\r\nnet-firewall/shorewall 2.4.2\r\nnet-analyzer/fail2ban 0.6.0\r\nsys-kernel/gentoo-sources 2.6.12-r6\r\nnet-ftp/vsftpd 2.0.3-r1\r\n\r\nwhen i try to login with ftp several times, my ip gets\r\nbanned. or am i wrong?\r\n\r\nhere is what fail2ban.log says:\r\n\r\n2006-02-15 14:54:21,801 INFO: VSFTPD: 89.53.40.xxx has 5\r\nlogin failure\\(s\\). Banned.\r\n2006-02-15 14:54:21,802 WARNING: VSFTPD: Ban 89.53.40.xxx\r\n\r\n\r\nhere is the output of 'cat /etc/vsftpd.conf | grep -v \"\\#\"':\r\n\r\nbackground=YES\r\nlisten=YES\r\nanonymous\\_enable=NO\r\nlocal\\_enable=YES\r\nwrite\\_enable=YES\r\nlocal\\_umask=022\r\ndirmessage\\_enable=YES\r\nconnect\\_from\\_port\\_20=YES\r\nxferlog\\_enable=YES\r\nxferlog\\_file=/var/log/vsftpd.log\r\nnopriv\\_user=nobody\r\nchroot\\_list\\_enable=YES\r\nchroot\\_list\\_file=/etc/vsftpd/chroot\\_list\r\nchroot\\_local\\_user=YES\r\n",
        "attachments": [],
        "author": "zugeschmiert",
        "timestamp": "2006-02-15 14:31:21",
        "slug": "3854",
        "subject": "#10 support for vsftpd"
      },
      {
        "text": "- **status**: closed-accepted --> open-accepted",
        "attachments": [],
        "author": "zugeschmiert",
        "timestamp": "2006-02-15 14:31:21",
        "slug": "6a94",
        "subject": "#10 support for vsftpd"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nLocal time problem seems to be related to chroot. A\r\n\"etc/localtime\" file needs to be present in the chrooted\r\nenvironnement. Please look at:\r\n\r\nhttp://groups.google.com/group/novell.support.suse.linux.enterprise-server/browse\\_thread/thread/17d3ff88e32465fd/74b6b7ab9612f231?lnk=st&q=vsftpd+localtime&rnum=1&hl=en\\#74b6b7ab9612f231",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-15 14:59:27",
        "slug": "672b",
        "subject": "#10 support for vsftpd"
      },
      {
        "text": "Logged In: YES \nuser\\_id=930060\n\nMuch tnx for the configuration file info\\!\r\n\r\nThis helped identify the culprit: The following \r\nconfiguration option:\r\n\r\nlog\\_ftp\\_protocol=YES\r\n\r\nappears to cause some FTP Protocol commands to be logged in \r\nGMT instead of local time, which is inconsistent with all \r\nthe other vsftpd logging that takes place.  This behavior \r\ncauses fail2ban to miss the authentication failures, \r\nbecause it is using the wrong timestamps.  After dropping \r\nthis option, fail2ban started working on my server as \r\nadvertised\\!\r\n\r\n\\(The only downside is that my log files are missing the FTP \r\nfile xfer info I wanted to log.  I filed a bug report on \r\nhttp://freshmeat.net/projects/vsftpd/, hopefully this \r\nproblem will be addressed by the vsftpd developers\\)\r\n",
        "attachments": [],
        "author": "rarig",
        "timestamp": "2006-02-16 11:50:01",
        "slug": "3904",
        "subject": "#10 support for vsftpd"
      },
      {
        "text": "- **status**: open-accepted --> closed-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-16 13:16:16",
        "slug": "6158",
        "subject": "#10 support for vsftpd"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-02-16 13:16:16",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2322718464f1a12f7e1",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/4f95a106/",
  "ticket_num": 10,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-02-02 11:36:13"
},{
  "status": "closed-accepted",
  "reported_by_id": "501198b6fd48f81dfd00a6f7",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "ticho",
  "description": "fail2ban often crashes here, it has never survived a\r\nsingle whole ssh flood.\r\n\r\nThis is my system log output:\r\n\r\nFeb 19 01:23:48 src@thelair sshd\\(pam\\_unix\\)\\[20961\\]:\r\ncheck pass; user unknown\r\nFeb 19 01:23:48 src@thelair sshd\\(pam\\_unix\\)\\[20961\\]:\r\nauthentication failure; logname= uid=0 euid=0 tty=ssh\r\nruser= rhost=195.26.34.19 \r\nFeb 19 01:23:50 src@thelair sshd\\[20961\\]: Failed\r\npassword for invalid user trevor from 195.26.34.19 port\r\n35783 ssh2\r\nFeb 19 01:23:52 src@thelair sshd\\[21244\\]: Invalid user\r\njade from 195.26.34.19\r\nFeb 19 01:23:52 src@thelair sshd\\(pam\\_unix\\)\\[21244\\]:\r\ncheck pass; user unknown\r\nFeb 19 01:23:52 src@thelair sshd\\(pam\\_unix\\)\\[21244\\]:\r\nauthentication failure; logname= uid=0 euid=0 tty=ssh\r\nruser= rhost=195.26.34.19 \r\nFeb 19 01:23:54 src@thelair sshd\\[21244\\]: Failed\r\npassword for invalid user jade from 195.26.34.19 port\r\n35793 ssh2\r\nFeb 19 01:25:55 src@thelair fail2ban\\[11740\\]: ERROR:\r\nFail2Ban got an unhandled exception and died.\r\nFeb 19 01:25:55 src@thelair fail2ban\\[11740\\]: ERROR:\r\nType: 'ValueError' Value: \\('invalid literal for long\\(\\):\r\n24,',\\) TB: \\[\\('/usr/bin/fail2ban', 46, '?',\r\n'fail2ban.main\\(\\)'\\), \\('/usr/lib/fail2ban/fail2ban.py',\r\n453, 'main', 'e = element\\[1\\].getFailures\\(\\)'\\),\r\n\\('/usr/lib/fail2ban/logreader/logreader.py', 148,\r\n'getFailures', 'if self.inIgnoreIPList\\(ip\\):'\\),\r\n\\('/usr/lib/fail2ban/logreader/logreader.py', 78,\r\n'inIgnoreIPList', 's\\[1\\] = long\\(s\\[1\\]\\)'\\)\\]\r\nFeb 19 01:25:55 src@thelair fail2ban\\[11740\\]: WARNING:\r\nRestoring firewall rules...",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "fail2ban 0.6.0 dies: invalid literal for long()",
  "discussion_thread": {
    "_id": "cc2be5cb",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nHi,\r\n\r\nCould you check that the \"ignoreip\" option in\r\n/etc/fail2ban.conf is valid?\r\n\r\nMaybe try with:\r\nignoreip = \r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-21 12:53:55",
        "slug": "bad9",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      },
      {
        "text": "- **status**: open --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-21 12:53:55",
        "slug": "2cb6",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      },
      {
        "text": "Logged In: YES \nuser\\_id=861633\n\nI'm using following:\r\n\r\nignoreip = 192.168.??.0/24, 192.168.??.0/24\r\n\r\nThose are two private LANs the box is connected to.\r\n\r\nI tried running fail2ban with \"ignoreip = \" instead, I'll\r\nreport back after next ssh attack flood.",
        "attachments": [],
        "author": "ticho",
        "timestamp": "2006-02-22 09:39:56",
        "slug": "4433",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nHi,\r\n\r\nCould you remove the ',' in \"ignoreip\"?\r\n\r\nignoreip = 192.168.??.0/24 192.168.??.0/24\r\n\r\nIt should fix the issue ;\\)",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-02-22 10:11:12",
        "slug": "162b",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      },
      {
        "text": "Logged In: NO \n\nYes, that works\\! Thanks and sorry for bothering. :\\) Keep up\r\nthe good work\\!",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-02-23 18:18:50",
        "slug": "8ffc",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      },
      {
        "text": "Logged In: YES \nuser\\_id=861633\n\n...forgot to log in again",
        "attachments": [],
        "author": "ticho",
        "timestamp": "2006-02-23 18:20:00",
        "slug": "732e",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      },
      {
        "text": "Logged In: NO \n\ni dont know if here is the right place to ask for\r\nbut fail2ban doesn't work for me in fedora\r\ni had always:\r\nERROR: Unable to get stat on /var/log/secure\r\nin /var/log/fail2ban.log\r\n\r\nplease help me",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-02-28 00:36:35",
        "slug": "9c30",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      },
      {
        "text": "- **status**: open-accepted --> closed-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-03-16 18:54:35",
        "slug": "fc7a",
        "subject": "#11 fail2ban 0.6.0 dies: invalid literal for long()"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-03-16 18:54:35",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2362718464f1a12f833",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/cc2be5cb/",
  "ticket_num": 11,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-02-19 00:52:02"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "when i start fail2ban it gives me error-messages\r\ncomplaining \r\n\"2006-03-24 10:54:51,022 ERROR: time data did not match\r\nformat:  data=Mar 21 10:00:50  fmt=%b %d %H:%M:%S\r\n2006-03-24 10:54:51,024 ERROR: Please check the format\r\nand your locale settings.\"\r\neven though that this scheme applies to my system:\r\n\r\n/var/log/messages:\r\n\"Mar 24 10:10:42 localhost sshd\\[10775\\]: Connection\r\nclosed by ::ffff:XX.X.X.XXX\"\r\n\r\ntimeregex and timepattern are default:\r\n\r\n\"timeregex = \\S\\{3\\}\\s\\{1,2\\}\\d\\{1,2\\} \\d\\{2\\}:\\d\\{2\\}:\\d\\{2\\}\"\r\n\"timepattern = %%b %%d %%H:%%M:%%S\"\r\n\r\ndistribution is suse 9.2, fail2ban was compiled with\r\npython 2.3+",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "v0.6.1 trouble with locale-setting",
  "discussion_thread": {
    "_id": "d985785f",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nCould you post the output of the \"locale\" command?\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-03-25 18:12:40",
        "slug": "74ce",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-03-25 18:12:40",
        "slug": "1154",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nLANG=de\\_DE.UTF-8\r\nLC\\_CTYPE=\"de\\_DE.UTF-8\"\r\nLC\\_NUMERIC=\"de\\_DE.UTF-8\"\r\nLC\\_TIME=\"de\\_DE.UTF-8\"\r\nLC\\_COLLATE=\"de\\_DE.UTF-8\"\r\nLC\\_MONETARY=\"de\\_DE.UTF-8\"\r\nLC\\_MESSAGES=\"de\\_DE.UTF-8\"\r\nLC\\_PAPER=\"de\\_DE.UTF-8\"\r\nLC\\_NAME=\"de\\_DE.UTF-8\"\r\nLC\\_ADDRESS=\"de\\_DE.UTF-8\"\r\nLC\\_TELEPHONE=\"de\\_DE.UTF-8\"\r\nLC\\_MEASUREMENT=\"de\\_DE.UTF-8\"\r\nLC\\_IDENTIFICATION=\"de\\_DE.UTF-8\"\r\nLC\\_ALL=\r\n\r\n\\--this is the output from sue10 on which i encountered the\r\nsame problems - UTF8, german",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-03-26 10:22:03",
        "slug": "55ec",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nLANG=de\\_DE.UTF-8\r\nLC\\_CTYPE=\"de\\_DE.UTF-8\"\r\nLC\\_NUMERIC=\"de\\_DE.UTF-8\"\r\nLC\\_TIME=\"de\\_DE.UTF-8\"\r\nLC\\_COLLATE=\"de\\_DE.UTF-8\"\r\nLC\\_MONETARY=\"de\\_DE.UTF-8\"\r\nLC\\_MESSAGES=\"de\\_DE.UTF-8\"\r\nLC\\_PAPER=\"de\\_DE.UTF-8\"\r\nLC\\_NAME=\"de\\_DE.UTF-8\"\r\nLC\\_ADDRESS=\"de\\_DE.UTF-8\"\r\nLC\\_TELEPHONE=\"de\\_DE.UTF-8\"\r\nLC\\_MEASUREMENT=\"de\\_DE.UTF-8\"\r\nLC\\_IDENTIFICATION=\"de\\_DE.UTF-8\"\r\nLC\\_ALL=\r\n\r\n\\--this is the output from sue10 on which i encountered the\r\nsame problems - UTF8, german",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-03-26 10:23:20",
        "slug": "be35",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nSame error here with German Debian \\(Sid\\)\r\n\r\n\\[~ \\#\\] locale\r\nLANG=de\\_DE.UTF-8\r\nLC\\_CTYPE=\"de\\_DE.UTF-8\"\r\nLC\\_NUMERIC=\"de\\_DE.UTF-8\"\r\nLC\\_TIME=\"de\\_DE.UTF-8\"\r\nLC\\_COLLATE=\"de\\_DE.UTF-8\"\r\nLC\\_MONETARY=\"de\\_DE.UTF-8\"\r\nLC\\_MESSAGES=\"de\\_DE.UTF-8\"\r\nLC\\_PAPER=\"de\\_DE.UTF-8\"\r\nLC\\_NAME=\"de\\_DE.UTF-8\"\r\nLC\\_ADDRESS=\"de\\_DE.UTF-8\"\r\nLC\\_TELEPHONE=\"de\\_DE.UTF-8\"\r\nLC\\_MEASUREMENT=\"de\\_DE.UTF-8\"\r\nLC\\_IDENTIFICATION=\"de\\_DE.UTF-8\"\r\nLC\\_ALL=\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-03-30 12:31:53",
        "slug": "3e84",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nSame here :\r\n\r\n2006-04-03 19:49:17,307 ERROR: Please check the format and \r\nyour locale settings.\r\n2006-04-03 19:49:17,308 ERROR: time data did not match \r\nformat:  data=Apr  3 19:49:01  fmt=%b %d %H:%M:%S\r\n\r\nLANG=fr\\_FR.UTF-8\r\nLC\\_CTYPE=fr\\_FR.UTF-8\r\nLC\\_NUMERIC=fr\\_FR.UTF-8\r\nLC\\_TIME=fr\\_FR.UTF-8\r\nLC\\_COLLATE=fr\\_FR.UTF-8\r\nLC\\_MONETARY=fr\\_FR.UTF-8\r\nLC\\_MESSAGES=fr\\_FR.UTF-8\r\nLC\\_PAPER=fr\\_FR.UTF-8\r\nLC\\_NAME=fr\\_FR.UTF-8\r\nLC\\_ADDRESS=fr\\_FR.UTF-8\r\nLC\\_TELEPHONE=fr\\_FR.UTF-8\r\nLC\\_MEASUREMENT=fr\\_FR.UTF-8\r\nLC\\_IDENTIFICATION=fr\\_FR.UTF-8\r\nLC\\_ALL=\r\n\r\nPython 2.4.1",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-04-03 18:21:48",
        "slug": "6925",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: YES \nuser\\_id=675287\n\nSame for me. But there's one thing that come to my mind.\r\nDuring March the abbreviation of that month was 'Mar' either\r\nin French or in English. Now we're in April and the french\r\nabbrev is not Apr but Avr. My syslog-ng writes lines like\r\nthis ones in /var/log/messages:\r\nApr 12 16:45:32 marge sshd\\[20849\\]: Accepted publickey for\r\nroot from 192.168.0.2 port 2265 ssh2\r\n\r\nAs you can see this is the English abbrev even if all my\r\nlocales are in french:\r\n\r\n\r\nmarge log \\# locale\r\nLANG=fr\\_FR@euro\r\nLC\\_CTYPE=\"fr\\_FR@euro\"\r\nLC\\_NUMERIC=\"fr\\_FR@euro\"\r\nLC\\_TIME=\"fr\\_FR@euro\"\r\nLC\\_COLLATE=\"fr\\_FR@euro\"\r\nLC\\_MONETARY=\"fr\\_FR@euro\"\r\nLC\\_MESSAGES=\"fr\\_FR@euro\"\r\nLC\\_PAPER=\"fr\\_FR@euro\"\r\nLC\\_NAME=\"fr\\_FR@euro\"\r\nLC\\_ADDRESS=\"fr\\_FR@euro\"\r\nLC\\_TELEPHONE=\"fr\\_FR@euro\"\r\nLC\\_MEASUREMENT=\"fr\\_FR@euro\"\r\nLC\\_IDENTIFICATION=\"fr\\_FR@euro\"\r\nLC\\_ALL=fr\\_FR@euro\r\n\r\nAs is is written in the fail2ban.conf file, the %b refers to\r\nthe locale's abbreviated month name \\(as described in\r\nhttp://rgruet.free.fr/PQR2.3.html\\#timeModule\\). Unfortunately\r\nit seems that syslog-ng writes the month in English\r\nwhatever the locales are.\r\n\r\nHth.\r\nChristophe Garault",
        "attachments": [],
        "author": "letoff",
        "timestamp": "2006-04-12 14:54:24",
        "slug": "de66",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: YES \nuser\\_id=675287\n\nIt looks like using tai64n format solved the problem.",
        "attachments": [],
        "author": "letoff",
        "timestamp": "2006-04-16 17:31:29",
        "slug": "aa21",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nThe same at FC3, Polish locale set.\r\n\\[root@link ~\\]\\# locale\r\nLANG=pl\\_PL\r\nLC\\_CTYPE=\"pl\\_PL\"\r\nLC\\_NUMERIC=\"pl\\_PL\"\r\nLC\\_TIME=\"pl\\_PL\"\r\nLC\\_COLLATE=\"pl\\_PL\"\r\nLC\\_MONETARY=\"pl\\_PL\"\r\nLC\\_MESSAGES=\"pl\\_PL\"\r\nLC\\_PAPER=\"pl\\_PL\"\r\nLC\\_NAME=\"pl\\_PL\"\r\nLC\\_ADDRESS=\"pl\\_PL\"\r\nLC\\_TELEPHONE=\"pl\\_PL\"\r\nLC\\_MEASUREMENT=\"pl\\_PL\"\r\nLC\\_IDENTIFICATION=\"pl\\_PL\"\r\nLC\\_ALL=\r\n\\[root@link ~\\]\\#\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-04-22 11:00:35",
        "slug": "00c3",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nI noticed this problem on Debian Linux since May 1. While\r\nlogged in as root via ssh, locale returns:\r\n\r\nLANG=de\\_DE@euro\r\nLC\\_CTYPE=\"de\\_DE@euro\"\r\nLC\\_NUMERIC=\"de\\_DE@euro\"\r\nLC\\_TIME=\"de\\_DE@euro\"\r\nLC\\_COLLATE=\"de\\_DE@euro\"\r\nLC\\_MONETARY=\"de\\_DE@euro\"\r\nLC\\_MESSAGES=\"de\\_DE@euro\"\r\nLC\\_PAPER=\"de\\_DE@euro\"\r\nLC\\_NAME=\"de\\_DE@euro\"\r\nLC\\_ADDRESS=\"de\\_DE@euro\"\r\nLC\\_TELEPHONE=\"de\\_DE@euro\"\r\nLC\\_MEASUREMENT=\"de\\_DE@euro\"\r\nLC\\_IDENTIFICATION=\"de\\_DE@euro\"\r\nLC\\_ALL=\r\n\r\nAfter restarting fail2ban with\r\n\r\nLANG= /etc/init.d/fail2ban restart\r\n\r\nthe error message was gone. So probably the trouble was\r\ntriggered by manual \\(re\\)start of fail2ban.",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-05-02 08:09:42",
        "slug": "743d",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nThis is not fixed in Subversion repository yet.\r\n\r\nFor those who have this one, please try:\r\n\r\nLANG=en\\_US /etc/init.d/fail2ban restart",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-08-22 06:28:41",
        "slug": "6849",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "- **status**: open --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-08-22 06:28:41",
        "slug": "bb9e",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nSame for norwegian no\\_NO settings.\r\n\r\nLANG=no\\_NO.UTF-8\r\nLC\\_CTYPE=\"no\\_NO.UTF-8\"\r\nLC\\_NUMERIC=\"no\\_NO.UTF-8\"\r\nLC\\_TIME=\"no\\_NO.UTF-8\"\r\nLC\\_COLLATE=\"no\\_NO.UTF-8\"\r\nLC\\_MONETARY=\"no\\_NO.UTF-8\"\r\nLC\\_MESSAGES=\"no\\_NO.UTF-8\"\r\nLC\\_PAPER=\"no\\_NO.UTF-8\"\r\nLC\\_NAME=\"no\\_NO.UTF-8\"\r\nLC\\_ADDRESS=\"no\\_NO.UTF-8\"\r\nLC\\_TELEPHONE=\"no\\_NO.UTF-8\"\r\nLC\\_MEASUREMENT=\"no\\_NO.UTF-8\"\r\nLC\\_IDENTIFICATION=\"no\\_NO.UTF-8\"\r\nLC\\_ALL=\r\n\r\n\"LANG= /etc/init.d/fail2ban restart\" works though.\r\n\r\nYou can also edit the script /etc/init.d/fail2ban and add \r\nLANG= after SCRIPTNAME= so it looks like this:\r\n\\----\r\nPATH=/usr/sbin:/usr/bin:/sbin:/bin\r\nDESC=\"authentication failure monitor\"\r\nNAME=fail2ban\r\nDAEMON=/usr/bin/$NAME\r\nPIDFILE=/var/run/$NAME.pid\r\nSCRIPTNAME=/etc/init.d/$NAME\r\nLANG=\r\n\r\n\\# Exit if the package is not installed\r\n\\-----\r\n\r\nI found that editing the startup script was the best, \r\nbecause then I don't have to manually restart it after \r\nrebooting.\r\n\r\nIt will only occur in months that are spellt different \r\nfrom english, and that will only be a few months when \r\nusing three letters for months.",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-10-23 00:34:56",
        "slug": "2541",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: YES \nuser\\_id=487166\n\nI can not correct this problem.  My locale is as follows:\r\n\r\nLANG=tr\\_TR.UTF-8\r\nLC\\_CTYPE=tr\\_TR.UTF-8\r\nLC\\_NUMERIC=en\\_US.UTF-8\r\nLC\\_TIME=tr\\_TR.UTF-8\r\nLC\\_COLLATE=tr\\_TR.UTF-8\r\nLC\\_MONETARY=en\\_US.UTF-8\r\nLC\\_MESSAGES=tr\\_TR.UTF-8\r\nLC\\_PAPER=en\\_US.UTF-8\r\nLC\\_NAME=en\\_US.UTF-8\r\nLC\\_ADDRESS=en\\_US.UTF-8\r\nLC\\_TELEPHONE=en\\_US.UTF-8\r\nLC\\_MEASUREMENT=en\\_US.UTF-8\r\nLC\\_IDENTIFICATION=en\\_US.UTF-8\r\nLC\\_ALL=\r\n\r\nNeither \"LANG=en\\_US /etc/init.d/fail2ban restart\" nor\r\nmodifying the /etc/init.d/fail2ban script coorects the\r\nproblem.  I even tried \"LANG=en\\_US.UTF-8\r\n/etc/init.d/fail2ban restart\", it did not work either.\r\n\r\nAny input is welcome\\!\r\n\r\nhakova",
        "attachments": [],
        "author": "hakova",
        "timestamp": "2006-11-05 05:13:34",
        "slug": "c313",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nSame for french fr\\_FR settings.\r\n\r\n...\r\n\r\nBut I opened /usr/bin/fail2ban and there was these lines :\r\n\\# Set the locale with the user's default setting\r\ntry:\r\nlocale.setlocale\\(locale.LC\\_ALL, ''\\)\r\nexcept Exception:\r\nprint \"Unable to set locale to \" + \\`locale.getdefaultlocale\\(\\)\\`\r\nsys.exit\\(-1\\)\r\n\r\nI cut off these line ...\r\nI launch /etc/init.d/fail2ban restart\r\n\r\nAnd no :  Please check the format and your locale settings.\r\n\r\nThis is an idea ?",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2006-12-06 19:58:03",
        "slug": "c918",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nCould you post the output of \"locale\"? Are the date in your log files displayed using fr\\_FR or any other locale? Is there a mix of several locales in your log files?\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-12-06 23:05:31",
        "slug": "15e3",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: NO \n\nSame for finish fi\\_FI settings\r\n\r\nLANG=fi\\_FI.UTF-8\r\nLC\\_CTYPE=\"fi\\_FI.UTF-8\"\r\nLC\\_NUMERIC=\"fi\\_FI.UTF-8\"\r\nLC\\_TIME=\"fi\\_FI.UTF-8\"\r\nLC\\_COLLATE=\"fi\\_FI.UTF-8\"\r\nLC\\_MONETARY=\"fi\\_FI.UTF-8\"\r\nLC\\_MESSAGES=\"fi\\_FI.UTF-8\"\r\nLC\\_PAPER=\"fi\\_FI.UTF-8\"\r\nLC\\_NAME=\"fi\\_FI.UTF-8\"\r\nLC\\_ADDRESS=\"fi\\_FI.UTF-8\"\r\nLC\\_TELEPHONE=\"fi\\_FI.UTF-8\"\r\nLC\\_MEASUREMENT=\"fi\\_FI.UTF-8\"\r\nLC\\_IDENTIFICATION=\"fi\\_FI.UTF-8\"\r\nLC\\_ALL=\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-01-31 03:40:44",
        "slug": "fc20",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nPlease try 0.6.2 and set the value of \"locale\" in fail2ban.conf to \"C\", \"en\\_US\" or \"POSIX\". You can use \"locale -a\" to see which locales are available on your system.\r\n\r\n\\# Option:  locale\r\n\\# Notes.:  global \\(cannot be redefined per section\\) locale to use for\r\n\\#          timestamp pattern matching by changing LC\\_TIME for\r\n\\#          fail2ban process. Empty entry sets locale to default one\r\n\\#          \\(usually specified by LC\\_ALL environment variable\\).\r\n\\# Values:  LOCALE  Default:\r\n\\#\r\nlocale =\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-04 23:02:53",
        "slug": "d5d0",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nI close this bug as this should be fixed in 0.6.2. If not, please reopen.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-16 08:11:56",
        "slug": "1383",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "- **status**: open-accepted --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-16 08:11:56",
        "slug": "7887",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      },
      {
        "text": "problem with proftpd.conf and Russian locale\n\nparse problem\nFound a match for ' my\\_host proftpd\\[5391\\] 127.0.0.1 \\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login attempted.\n' but no valid date/time found for '\u041e\u043a\u0442 03 14:13:08'. Please contact the author in order to get support for this format\nFound a match for ' my\\_host proftpd\\[5392\\] 127.0.0.1 \\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login attempted.\n' but no valid date/time found for '\u041e\u043a\u0442 03 14:13:09'. Please contact the author in order to get support for this format\nFound a match for ' my\\_host proftpd\\[5393\\] 127.0.0.1 \\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login attempted.\n' but no valid date/time found for '\u041e\u043a\u0442 03 14:13:35'. Please contact the author in order to get support for this format\n\n\nOriginal log file:\n\u041e\u043a\u0442 03 14:13:08 my\\_host proftpd\\[5391\\] 127.0.0.1 \\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login attempted.\n\u041e\u043a\u0442 03 14:13:09 my\\_host proftpd\\[5392\\] 127.0.0.1 \\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login attempted.\n\u041e\u043a\u0442 03 14:13:35 my\\_host proftpd\\[5393\\] 127.0.0.1 \\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login attempted.\n\n\n\n",
        "attachments": [],
        "author": "linvinus",
        "timestamp": "2011-10-03 17:04:10",
        "slug": "ae5c",
        "subject": "#12 v0.6.1 trouble with locale-setting"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-02-16 08:11:56",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2392718464f1a12f865",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/d985785f/",
  "ticket_num": 12,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-03-24 10:05:48"
},{
  "status": "open",
  "reported_by_id": "516c4f0c34309d2f53b02cf6",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "jasonaward",
  "description": "I'm currently running fail2ban-0.7.2 with 5 jails and\r\nit's taking roughly 20MB / jail \\(for a total of almost\r\nexactly 100MB\\).  Maybe I'm wrong, but this seems like a\r\nlot.  Any thoughts on what may cause it?\r\n\r\nI can help debug in any way if needed.  Thanks.",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Excessive memory usage?",
  "discussion_thread": {
    "_id": "7d1728c7",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nHi,\r\n\r\nThat's a lot indeed. I look at /proc/\\*/status and in fact,\r\nthe memory usage reported is quite huge :-/\r\n\r\n1/ fail2ban-server -f: 14360 kB\r\n2/ fail2ban-client status: 22556 kB\r\n3/ fail2ban-client reload: 47240 kB \\(1 jail\\)\r\n4/ test-server: 121136 kB \\(send random command, created 6 jails\\)\r\n\r\nI must look into this issue. Thanks a lot for reporting it.\r\n",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-09-21 21:55:02",
        "slug": "5fb0",
        "subject": "#13 Excessive memory usage?"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-09-21 21:55:02",
        "slug": "870d",
        "subject": "#13 Excessive memory usage?"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-09-21 21:55:02",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2492718464f1a12f8dd",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/7d1728c7/",
  "ticket_num": 13,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-09-21 13:17:44"
},{
  "status": "open",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "Hello, \r\n\r\nthe Fail2Ban Project is very god. We have the 0.6.1 in\r\nuse. The Problem is the commercial Version from SSH2.\r\nThe  Lofiles are so:\r\n\r\nOct 19 11:03:07 hostname sshd2\\[14189\\]: connection from\r\n\"This.is.my.IP\"\r\nOct 19 11:03:07 hostname sshd2\\[19080\\]: Local\r\ndisconnected: Connection closed.\r\nOct 19 11:03:07 hostname sshd2\\[19080\\]: connection lost:\r\n'Connection closed.'\r\n\r\n\r\nCan Fail2ban with the Logs from SSH2 Commercial? I see\r\nthe problem that ssh2 Write the logs in 3 Lines and\r\nOpenssh in 1 Line. ",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Problem with Commertinal SSH",
  "discussion_thread": {
    "_id": "823b95a5",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nHi,\r\n\r\nFail2ban needs all information on the same line. Is it\r\npossible to increase the logging level of SSH2? It seems\r\nthat the logging information are quite poor.\r\n\r\nThanks",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-10-19 18:52:25",
        "slug": "9581",
        "subject": "#14 Problem with Commertinal SSH"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-10-19 18:52:25",
        "slug": "2774",
        "subject": "#14 Problem with Commertinal SSH"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-10-19 18:52:25",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf24b2718464f1a12f8ee",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/823b95a5/",
  "ticket_num": 14,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-10-19 09:06:11"
},{
  "status": "closed-fixed",
  "reported_by_id": "508c038e2718461589643ec4",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "nollidj",
  "description": "I've installed fail2ban 0.7.2 on Gentoo through portage.\r\n\r\nUsing the stock configuration files, and a modified\r\njail.conf, fail2ban appears to hang when I stopped the\r\nserver.  The jail.conf that I have used is based on the\r\nstock jail.conf and is attached.\r\n\r\nAn example session is:\r\n\r\n\r\n\\# fail2ban-client start\r\nWARNING No 'maxtime' defined in 'postfix-tcpwrapper'\r\nWARNING No 'maxtime' defined in 'ssh-iptables-report'\r\nWARNING No 'maxtime' defined in 'ssh-tcpwrapper'\r\nWARNING No 'maxtime' defined in 'vsftpd-notification'\r\nWARNING No 'maxtime' defined in 'ssh-iptables'\r\n2006-10-25 23:43:46,177 fail2ban.server : INFO  \r\nStarting Fail2ban\r\n\\# fail2ban-client stop\r\n\\(nothing appears to happen and fail2ban-server\r\ncontinues to use a lot of CPU time\\)\r\n\r\nI would guess that this is because my log file was huge\r\n\\(over 100 MB\\).  fail2ban is probably going through the\r\nfile and blocking on exit when it should just give up\r\nreading the logfile and quit.\r\n\r\nI have since fixed the size of my logfile \\(logrotate\r\nwas misbehaving\\), and the problem disappeared.\r\n\r\nI also noticed that, when killed with SIGTERM,\r\nfail2ban-server does not remove /tmp/fail2ban.sock . \r\nIt would probably be a good idea to try to clean up\r\nthat file when dying from SIGTERM in order to allow the\r\nserver to be restarted after being killed.",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "fail2ban may \"hang on stop and does not recover from SIGTERM",
  "discussion_thread": {
    "_id": "9551633c",
    "posts": [
      {
        "text": "Minimally changed jail.conf",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/9551633c/6389/attachment/jail.conf",
            "bytes": 1740
          }
        ],
        "author": "nollidj",
        "timestamp": "2006-10-26 03:59:58",
        "slug": "6389",
        "subject": "#15 fail2ban may \"hang on stop and does not recover from SIGTERM"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nHi,\r\n\r\nFail2ban does not stop parsing the files yet. I will correct\r\nthis.\r\n\r\nSignal handling is in my TODO list. However, I have some\r\nproblem with this. This is a known issue.\r\n\r\nThanks",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-10-26 09:57:33",
        "slug": "72d6",
        "subject": "#15 fail2ban may \"hang on stop and does not recover from SIGTERM"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-10-26 09:57:33",
        "slug": "6bf5",
        "subject": "#15 fail2ban may \"hang on stop and does not recover from SIGTERM"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\n\nFixed in Subversion HEAD. Will be in 0.7.4.\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-10-30 23:04:13",
        "slug": "70fc",
        "subject": "#15 fail2ban may \"hang on stop and does not recover from SIGTERM"
      },
      {
        "text": "- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-10-30 23:04:13",
        "slug": "a982",
        "subject": "#15 fail2ban may \"hang on stop and does not recover from SIGTERM"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-10-30 23:04:13",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf24d2718464f1a12f8ff",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/9551633c/",
  "ticket_num": 15,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-10-26 03:59:58"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "Hi, \r\n\r\nfail2ban 0.7.4 \\(gentoo\\)\r\n\r\njail.conf \r\n\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\r\n\\[DEFAULT\\]\r\nignoreip = 127.0.0.1\r\nbantime  = 600\r\nmaxretry = 3\r\nmaxtime = 600\r\nbackend = auto\r\n\r\n\\[ssh-test\\]\r\n\r\nenabled  = true\r\nfilter   = sshd\r\naction   = shorewall\r\n\\# for not been realy banned \\! lol\r\nmail-whois\\[name=SSH, dest=gdelvit@dgir.fr\\]\r\nlogpath  = /var/log/auth.log\r\nmaxretry = 5\r\nbantime = 600\r\nfindtime = 600 &lt;- seems not be used at startup\r\nmaxtime = 600 \r\n\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\r\n\r\n\r\nMy auth.log :\r\n\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\r\nNov 20 09:31:04 ks37603 sshd\\(pam\\_unix\\)\\[17724\\]: authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=plop  user=root\r\n\r\nNov 20 09:31:06 ks37603 sshd\\[16696\\]: error: PAM: Authentication failure for root from plop\r\n\r\nNov 24 11:49:00 ks37603 sshd\\(pam\\_unix\\)\\[24565\\]: authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=plop\r\n\r\nNov 24 11:49:02 ks37603 sshd\\[6449\\]: error: PAM: Authentication failure for illegal user toto from plop\r\n\r\nNov 24 12:13:26 ks37603 sshd\\(pam\\_unix\\)\\[10764\\]: authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=plop\r\n\r\nNov 24 12:13:28 ks37603 sshd\\[12288\\]: error: PAM: Authentication failure for illegal user toto from plop\r\n\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\\#\r\n\r\n\\# date\r\nven nov 24 13:00:26 CET 2006\r\n\r\n\\#/etc/init.d/fail2ban restart\r\n\r\n\\# fail2ban-client status\r\nStatus\r\n|- Number of jail:      1\r\n\\`- Jail list:           ssh-test\r\n\r\n\\# fail2ban-client status ssh-test\r\n\r\nStatus for the jail: ssh-test\r\n|- filter\r\n|  |- Currently failed:         0\r\n|  \\`- Total failed:             6  &lt;--- WHAT ? He reads all auth.log from 2 days .....\r\n\\`- action\r\n|- Currently banned:         0\r\n\\`- Total banned:             1  &lt;--- so I'm band to have missed 6 times my login form 2 days ....\\(it could be 600 seconds \\!\\)\r\n\r\n\\--\r\n\r\nI think it's better to not analyse log file at startup ....\r\n\r\nguiguid.\r\n\r\n",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "ban at startup if log contain failed acces",
  "discussion_thread": {
    "_id": "57555192",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nThank you for reporting this. This should be fixed in the repository. Will be in 0.7.5.\r\n\r\n\"maxtime\" has been merged with \"findtime\" and now \"findtime\" is used correctly.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-11-26 23:04:43",
        "slug": "ac5d",
        "subject": "#16 ban at startup if log contain failed acces"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-11-26 23:04:43",
        "slug": "fa5f",
        "subject": "#16 ban at startup if log contain failed acces"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-11-26 23:04:43",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2502718464f1a12f925",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/57555192/",
  "ticket_num": 16,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-11-24 12:04:08"
},{
  "status": "open",
  "reported_by_id": "513906035fcbc9796074cb78",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "kdrapel",
  "description": "Hi Cyril ;\\) \r\n\r\nFail2Ban 0.7.5 fails to quickly detect intrusion burst with the same user. My pwdfail log presents the lines below. Fail2Ban actually bans the intruders but only after 14\\*3 attempts. This case doesn't seem to be handled yet.\r\n\r\nEt bonne ann\u00e9e ;\\)\r\n\r\nDec 21 12:35:22 \\[sshd\\] Invalid user test from 210.209.130.230\r\n\\- Last output repeated 14 times -\r\nDec 21 12:36:11 \\[sshd\\] Invalid user tester from 210.209.130.230\r\n\\- Last output repeated 14 times -\r\nDec 21 12:36:52 \\[sshd\\] Invalid user testing from 210.209.130.230\r\n\\- Last output repeated 14 times -\r\nDec 21 12:37:33 \\[sshd\\] Invalid user testbox from 210.209.130.230\r\nDec 21 12:37:36 \\[sshd\\] Invalid user guest from 210.209.130.230\r\nDec 21 16:53:45 \\[sshd\\] Invalid user test from 82.165.182.220\r\n\\- Last output repeated 14 times -\r\nDec 21 16:54:04 \\[sshd\\] Invalid user tester from 82.165.182.220\r\n\\- Last output repeated 14 times -\r\nDec 21 16:54:24 \\[sshd\\] Invalid user testing from 82.165.182.220\r\n\\- Last output repeated 14 times -\r\nDec 21 16:54:44 \\[sshd\\] Invalid user testbox from 82.165.182.220\r\nDec 21 16:54:46 \\[sshd\\] Invalid user guest from 82.165.182.220\r\n",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "\"Last output repeated -xxx- times\" problems",
  "discussion_thread": {
    "_id": "c1238bfd",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nHi K\u00e9vin ;\\)\r\n\r\nYou're right, this case is not handled yet. This is more a problem with your syslog daemon. Some syslog daemon have an option to disable this. But I don't know such one on Linux :\\( The problem is that when \"Last output repeated X times\" is written to the log file, there were X+1 attempts already which can be higher than \"maxretry\".\r\n\r\nI will try to fix this but I will be probably in the next development branch \\(0.9\\).\r\n\r\nThank you and bonne ann\u00e9e ;\\)\r\n\r\nP.S. I move this to \"Bugs\"",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-12-22 07:59:57",
        "slug": "3f1f",
        "subject": "#17 \"Last output repeated -xxx- times\" problems"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2006-12-22 07:59:57",
        "slug": "5d85",
        "subject": "#17 \"Last output repeated -xxx- times\" problems"
      },
      {
        "text": "Logged In: YES \nuser\\_id=1128141\nOriginator: YES\n\nI checked what was going on in Metalog \\(which is slowly being unsupported.. last official release on SF in late 2005..\\). It is actually related to the logger but there is no way to easily disable this behavior which seems to be hardcoded. A patch is necessary \\(for those interested, search for \"LAST\\_OUTPUT\" in metalog.c\\)\r\n\r\nMaybe something to report in the documentation of Fail2Ban. I didn't notice this thing before because most kiddies use a script that changes the username for each connection - that results in one line per attempt in the log. This exotic hacker kept the same username with various passwords across the connections, producing a compressed output. How nice and efficient :\\)\r\n\r\nI swill switch to another logger. ",
        "attachments": [],
        "author": "kdrapel",
        "timestamp": "2006-12-22 12:25:26",
        "slug": "e515",
        "subject": "#17 \"Last output repeated -xxx- times\" problems"
      },
      {
        "text": "Hi Cyril,\n\nI saw a patch submitted for this issue long time ago \\(http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=440037\\) which seem to be irrelevant with the code of 0.8.4 version.\n\nIs it still going to be fixed in 0.9 branch or there's a slight chance to fix in 0.8?",
        "attachments": [],
        "author": "serge-remote",
        "timestamp": "2010-06-15 16:40:00",
        "slug": "0dbc",
        "subject": "#17 \"Last output repeated -xxx- times\" problems"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2006-12-22 07:59:57",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2522718464f1a12f936",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/c1238bfd/",
  "ticket_num": 17,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2006-12-22 00:11:18"
},{
  "status": "closed-fixed",
  "reported_by_id": "509c194b34309d3c63594001",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "rarig",
  "description": "Fail2Ban Release: fail2ban-0.7.7\r\nOS Release: Fedora Core 3\r\n\r\nOne simple regex line change to the sshd.conf filter will pretty much help fail2ban-0.7.7 work with Fedora Core 3 \\(and other releases of Fedora as well\\) \"out of the box\".\r\n\r\nPlease change the following line below:\r\n\r\n\\[root@birch filter.d\\]\\# diff sshd.conf.orig sshd.conf\r\n18c18\r\n&lt;             Failed \\[-/\\w+\\]+ for .\\* from &lt;HOST&gt;\r\n\\---\r\n&gt;             Failed \\[\\w+\\]+ for .\\* from &lt;HOST&gt;\r\n\r\nNot sure if python is happy with the original regex syntax, but perl complains that it is invalid.  But after making the above change, perl was happy, and the python in fail2ban started working as it should, matching the lines below in /var/log/secure\r\n\r\nFeb 20 09:06:16 birch sshd\\[29384\\]: Failed password for invalid user foobar from ::ffff:72.9.234.170 port 40962 ssh2\r\n\r\nThere is probably even a more succinct regex pattern that cold be used, but the above worked for me\\!",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Add regex for SSH under Fedora",
  "discussion_thread": {
    "_id": "a4929d5f",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nNo problem with the original regex on Python here. However, this regex can probably be modified.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-20 21:10:54",
        "slug": "0a99",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "- **status**: open --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-20 21:10:54",
        "slug": "596f",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nCould you try this regex please?\r\n\r\nFailed \\w+ for .\\* from &lt;HOST&gt;",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-20 23:02:57",
        "slug": "3f16",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open-accepted --> pending-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-20 23:02:57",
        "slug": "0f77",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nCould you try this one rather?\r\n\r\nFailed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt;\r\n\r\nTry this too. You should get a match.\r\n\r\n$ fail2ban-regex \"Feb 20 09:06:16 birch sshd\\[29384\\]: Failed password for invalid user foobar from ::ffff:72.9.234.170 port 40962 ssh2\" \"Failed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt;\"",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-21 20:37:51",
        "slug": "398c",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "- **status**: pending-accepted --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-21 20:37:51",
        "slug": "80ae",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "Logged In: YES \nuser\\_id=930060\nOriginator: YES\n\nI did a little test using the regex proposed below by \"lostcontrol\" \\(I know that feeling\\):\r\n\r\nFailed \\w+ for .\\* from &lt;HOST&gt;\r\n\r\nand it worked like a champ\\!\r\n\r\nShip it\\!\\!\\!  ;-\\)",
        "attachments": [],
        "author": "rarig",
        "timestamp": "2007-02-21 22:52:10",
        "slug": "65d6",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nCould you try this one please?\r\n\r\nFailed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt;\r\n\r\nThe problem is that '-' and '/' are needed. We have to match things like \"Failed key/passphrase for ...\" or \"Failed keyboard-interactive ...\".\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-02-21 22:58:41",
        "slug": "8582",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "Logged In: YES \nuser\\_id=930060\nOriginator: YES\n\nWorks fine with the \"fail2ban-regex\" as well as with actual failed logon attempts \\(see traces below\\)\r\n\r\n-Harry\r\n\r\nREGEX = Failed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt;\r\n\r\n\\[sound@birch ~\\]$ fail2ban-regex \"Feb 20 09:06:16 birch sshd\\[29384\\]: Failed password for invalid user foobar from ::ffff:72.9.234.170 port 40962 ssh2\" \"Failed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt;\"\r\n\r\nRunning tests\r\n=============\r\n\r\nUse regex line : Failed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt;\r\nUse single line: Feb 20 09:06:16 birch sshd\\[29384\\]: Failed password...\r\n\r\n\r\nResults\r\n=======\r\n\r\nFailregex:\r\n\\[1\\] Failed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt;\r\n\r\nNumber of matches:\r\n\\[1\\] 1 match\\(es\\)\r\n\r\nAddresses found:\r\n\\[1\\]\r\n72.9.234.170 \\(Tue Feb 20 09:06:16 2007\\)\r\n\r\nDate template hits:\r\n1 hit: Month Day Hour:Minute:Second\r\n0 hit: Weekday Month Day Hour:Minute:Second Year\r\n0 hit: Year/Month/Day Hour:Minute:Second\r\n0 hit: Day/Month/Year:Hour:Minute:Second\r\n0 hit: Year-Month-Day Hour:Minute:Second\r\n0 hit: TAI64N\r\n0 hit: Epoch\r\n\r\nSuccess, the total number of match is 1\r\n\r\nHowever, look at the above section 'Running tests' which could contain important\r\ninformation.\r\n\\[sound@birch ~\\]$\r\n",
        "attachments": [],
        "author": "rarig",
        "timestamp": "2007-02-22 19:44:38",
        "slug": "53ec",
        "subject": "#18 Add regex for SSH under Fedora"
      },
      {
        "text": "- **status**: open-accepted --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-03-21 20:44:01",
        "slug": "93d7",
        "subject": "#18 Add regex for SSH under Fedora"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-03-21 20:44:01",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2572718464f1a12f972",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/a4929d5f/",
  "ticket_num": 18,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-02-20 14:45:48"
},{
  "status": "open-accepted",
  "reported_by_id": "513e2b115fcbc93d72cdfdf2",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "briandavison",
  "description": "Running fairly generic Fedora Core 6, fully updated.\r\n\r\n\\[root@wume2 ~\\]\\# rpm -q fail2ban\r\nfail2ban-0.6.2-3.fc6\r\n\r\nfail2ban dies at startup with:\r\n\r\n2007-03-28 06:30:16,348 ERROR: Type: 'UnicodeEncodeError'\r\nValue: \\('latin-1', u'Mar 26 10:34:24 wume2 sshd\\[2544\\]: pam\\_unix\\(sshd:auth\\): bad username \\[\\ufeffroot\\]\\n', 69, 70, 'ordinal not in range\\(256\\)'\\)\r\nTB: \\[\\('/usr/bin/fail2ban', 48, '?', 'fail2ban.main\\(\\)'\\), \\('/usr/share/fail2ban/fail2ban.py', 486, 'main', 'e = element\\[1\\].getFailures\\(\\)'\\), \\('/usr/share/fail2ban/logreader/logreader.py', 141, 'getFailures', \"line = line.decode\\('utf-8'\\).encode\\('latin-1'\\)\"\\)\\]\r\n\r\nThe relevant line in my /var/log/secure is\r\nMar 26 10:34:24 wume2 sshd\\[2544\\]: pam\\_unix\\(sshd:auth\\): bad username \\[\ufeffroot\\]\r\n\r\nbut copying and pasting here won't capture the unicode, so here is od output:\r\n\r\n% grep username /var/log/secure | od -a\r\n0000000   M   a   r  sp   2   6  sp   1   0   :   3   4   :   2   4  sp\r\n0000020   w   u   m   e   2  sp   s   s   h   d   \\[   2   5   4   4   \\]\r\n0000040   :  sp   p   a   m   \\_   u   n   i   x   \\(   s   s   h   d   :\r\n0000060   a   u   t   h   \\)   :  sp   b   a   d  sp   u   s   e   r   n\r\n0000100   a   m   e  sp   \\[   o   ;   ?   r   o   o   t   \\]  nl   M   a\r\n\r\n\\-- Brian",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "unicode error processing /var/log/secure",
  "discussion_thread": {
    "_id": "0f9f3d85",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nHi Brian,\r\n\r\nCould you try this patch?\r\n\r\nThank you\r\n\r\nCyril\r\n\r\nIndex: /home/cyril/workspace/fail2ban-stable/logreader/logreader.py\r\n===================================================================\r\n\\--- /home/cyril/workspace/fail2ban-stable/logreader/logreader.py\t\\(revision 567\\)\r\n+++ /home/cyril/workspace/fail2ban-stable/logreader/logreader.py\t\\(working copy\\)\r\n@@ -137,8 +137,8 @@\r\nlastLine = None\r\nfor line in logFile:\r\ntry:\r\n\\-\t\t\t\t\\# Try to convert UTF-8 string to Latin-1\r\n\\-\t\t\t\tline = line.decode\\('utf-8'\\).encode\\('latin-1'\\)\r\n\\+\t\t\t\t\\# Decode line to UTF-8\r\n\\+\t\t\t\tline = line.decode\\('utf-8'\\)\r\nexcept UnicodeDecodeError:\r\npass\r\nif not self.hasTime\\(line\\):\r\n",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-03-28 21:47:46",
        "slug": "44ba",
        "subject": "#19 unicode error processing /var/log/secure"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-03-28 21:47:46",
        "slug": "f1c2",
        "subject": "#19 unicode error processing /var/log/secure"
      },
      {
        "text": "Logged In: YES \nuser\\_id=1139464\nOriginator: YES\n\nHi Cyril,\r\n\r\nThanks for the suggestion.  It didn't work, but suggested another variation which might.  When I applied your patch, I got other errors.  Here are the relevant parts from fail2ban -vv:\r\n\r\n2007-03-28 19:47:39,360 WARNING: SSH: ReBan 207.44.198.118\r\n2007-03-28 19:47:39,360 DEBUG: iptables -I fail2ban-SSH 1 -s u'207.44.198.118' -j DROP\r\niptables v1.3.5: host/network \\`u207.44.198.118' not found\r\nTry \\`iptables -h' or 'iptables --help' for more information.\r\n2007-03-28 19:47:39,666 ERROR: 'iptables -I fail2ban-SSH 1 -s u'207.44.198.118' -j DROP' returned 512\r\n2007-03-28 19:47:39,667 ERROR: Fail2Ban got an unhandled exception and died.\r\n2007-03-28 19:47:39,668 ERROR: Type: 'ExternalError'\r\nValue: \\('Big Oops happened: situation is out of control. Something is wrong with your setup. Please check your settings',\\)\r\nTB: \\[\\('/usr/bin/fail2ban', 48, '?', 'fail2ban.main\\(\\)'\\), \\('/usr/share/fail2ban/fail2ban.py', 549, 'main', 'raise ExternalError\\(\"Big Oops happened: situation is out of \" +'\\)\\]\r\n\r\n\r\nHowever, changing the line from \r\n\r\nline = line.decode\\('utf-8'\\)\r\n\r\nto \r\n\r\nline = line\r\n\r\nwas sufficient to eliminate all of my errors and run properly.  However, I don't know what the ramifications of this change are \\(and obviously I don't know python since I substituted an identity rather than rewrite anything else\\).\r\n\r\n\\-- Brian",
        "attachments": [],
        "author": "briandavison",
        "timestamp": "2007-03-29 00:13:35",
        "slug": "6f63",
        "subject": "#19 unicode error processing /var/log/secure"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-03-28 21:47:46",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf25c2718464f1a12f9ac",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/0f9f3d85/",
  "ticket_num": 19,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-03-28 10:56:33"
},{
  "status": "closed-accepted",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "Fail2ban Version 0.6.2 \r\n\r\n\r\ntail -f /var/log/secure\r\nApr  1 04:02:42 Linux sshd\\[23531\\]: Failed password for root from ::ffff:213.180.114.42 port 1565 ssh2\r\nApr  1 04:02:43 Linux sshd\\[23531\\]: Received disconnect from ::ffff:213.180.114.42: 11: Bye Bye\r\nApr  1 04:02:48 Linux sshd\\[23533\\]: Failed password for root from ::ffff:213.180.114.42 port 1763 ssh2\r\nApr  1 04:02:49 TLinux sshd\\[23533\\]: Received disconnect from ::ffff:213.180.114.42: 11: Bye Bye\r\nApr  1 04:02:55 Linux sshd\\[23535\\]: Failed password for root from ::ffff:213.180.114.42 port 1957 ssh2\r\nApr  1 04:02:56 Linux sshd\\[23535\\]: Received disconnect from ::ffff:213.180.114.42: 11: Bye Bye\r\nApr  1 04:03:01 Linux sshd\\[23537\\]: Failed password for root from ::ffff:213.180.114.42 port 2152 ssh2\r\nApr  1 04:03:02 Linux sshd\\[23537\\]: Received disconnect from ::ffff:213.180.114.42: 11: Bye Bye\r\nApr  1 04:03:07 Linux sshd\\[23539\\]: Failed password for root from ::ffff:213.180.114.42 port 2348 ssh2\r\nApr  1 04:03:08 Linux sshd\\[23539\\]: Received disconnect from ::ffff:213.180.114.42: 11: Bye Bye\r\nApr  1 04:03:14 Linuxsshd\\[23542\\]: Failed password for root from ::ffff:213.180.114.42 port 2544 ssh2\r\nApr  1 04:03:14 Linux sshd\\[23542\\]: Received disconnect from ::ffff:213.180.114.42: 11: Bye Bye\r\n\r\n\\[root@Linux config\\]\\# date\r\nSun Apr  1 06:03:22 CEST 2007 \r\n\r\n\r\nWhen the Time from SSH Attack is in Future make Fail2ban: \r\n\r\n2007-04-01 05:41:42,948 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:41:49,202 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:41:55,465 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:01,708 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:07,953 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:14,200 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:20,449 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:32,698 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:38,955 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:45,208 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:51,465 ERROR: SSH: 210.100.157.9 already in ban list\r\n2007-04-01 05:42:58,722 ERROR: SSH: 210.100.157.9 already in ban list\r\n",
  "labels": [
    "Interface (example)"
  ],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Fail2ban failed by time ",
  "discussion_thread": {
    "_id": "9fa9aea6",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nCould you provide more information? These error messages mean most of the time that the \"ban\" action  did not succeed. Please check your \"fw\\*\" commands in fail2ban.conf.\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-04-01 20:34:24",
        "slug": "3b37",
        "subject": "#20 Fail2ban failed by time "
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> pending-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-04-01 20:34:24",
        "slug": "7fec",
        "subject": "#20 Fail2ban failed by time "
      },
      {
        "text": "Logged In: YES \nuser\\_id=1312539\nOriginator: NO\n\nThis Tracker item was closed automatically by the system. It was\npreviously set to a Pending status, and the original submitter\ndid not respond within 14 days \\(the time period specified by\nthe administrator of this Tracker\\).",
        "attachments": [],
        "author": "sf-robot",
        "timestamp": "2007-04-16 02:20:06",
        "slug": "739f",
        "subject": "#20 Fail2ban failed by time "
      },
      {
        "text": "- **status**: pending-accepted --> closed-accepted",
        "attachments": [],
        "author": "sf-robot",
        "timestamp": "2007-04-16 02:20:06",
        "slug": "368d",
        "subject": "#20 Fail2ban failed by time "
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-04-16 02:20:06",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf25e2718464f1a12f9c5",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/9fa9aea6/",
  "ticket_num": 20,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-04-01 04:12:44"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "As shipped in version 0.7.9, the redhat-init file has a logical error in the stop function. The stop function will always give \\[ OK \\] even if the fail2ban-server process wasn't running. This patch fixes that problem, and adds a few minor enhancements:\r\n\r\nhttps://bugzilla.redhat.com/bugzilla/attachment.cgi?id=153730",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Fix problems with the redhat-init file (patch included)",
  "discussion_thread": {
    "_id": "6e730b73",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nThank you. Fixed in HEAD. Will be in 0.8.0.\r\n\r\nI have added the credits to Jonathan Underwood. I hope it is the right person ;\\)",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-05-01 22:43:51",
        "slug": "edbd",
        "subject": "#21 Fix problems with the redhat-init file (patch included)"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-05-01 22:43:51",
        "slug": "ec7b",
        "subject": "#21 Fix problems with the redhat-init file (patch included)"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-05-01 22:43:51",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2642718464f1a12f9e2",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/6e730b73/",
  "ticket_num": 21,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-04-29 10:40:54"
},{
  "status": "open",
  "reported_by_id": "4dc6dcc70594ca57dd00045d",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "deathbob",
  "description": "I haven't been able to figure out why, but after a day or two fail2ban stops banning new entries.  It seems to lock up.  I have to shutdown fail2ban \\(doesn't send emails saying jails are stoping\\) and start it again.\r\n\r\nIs this a known problem or is there anything i could do to figure out whats causing it?\r\n\r\nI cannot be sure but the following line sometimes occurs when it seems to stop working:\r\n\r\n2007-05-17 08:25:50,869 fail2ban.comm   : WARNING Invalid command: \\['add', 'VSFTPD', 'auto'\\]",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Fail2ban stops banning",
  "discussion_thread": {
    "_id": "3aefbfb1",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nHi,\r\n\r\nPlease could you tell me which version you use?\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-05-24 20:35:51",
        "slug": "928d",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> pending",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-05-24 20:35:51",
        "slug": "f180",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: YES \nuser\\_id=907142\nOriginator: YES\n\nv0.7.9\r\n\r\nI've had this problem for a while and each update i've done hasn't fixed it. I plan to move to v0.8 but haven't gotten around to it.",
        "attachments": [],
        "author": "deathbob",
        "timestamp": "2007-05-24 23:01:08",
        "slug": "8729",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "- **status**: pending --> open",
        "attachments": [],
        "author": "deathbob",
        "timestamp": "2007-05-24 23:01:09",
        "slug": "d718",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nThere was a bug in versions &lt; 0.7.9 that could result in such problem. However, 0.7.9 should be alright.\r\n\r\n\\* Which distribution do you use?\r\n\\* Do you use logrotate or do you call \"fail2ban-client reload\" regularly?\r\n\\* When Fail2ban stops banning new entries, what does \"ps fax\" show?\r\n\r\nIf a command, defined in an action script, hangs, it will block the whole jail. This could be your problem. I hope to introduce a timeout to solve this in 0.9.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-05-25 07:20:34",
        "slug": "0567",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "- **status**: open --> pending",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-05-25 07:20:34",
        "slug": "45ac",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: YES \nuser\\_id=907142\nOriginator: YES\n\nFedora Core 6\r\nI don't rotate logs on fail2ban or reload often.\r\n\r\nright now while i belive its running it shows:\r\n3252 ?        Sl     0:32 /usr/bin/python /usr/bin/fail2ban-server -b -s /tmp/f\r\n\r\nI'll try to remember to find out next time it hangs, although i'm going to try to upgrade right now to 0.8.\r\n\r\nI agree that the hanging action might be the problem, I use iptables and occasionally in the log it says iptables failed and fail2ban auto restarts fixing it.",
        "attachments": [],
        "author": "deathbob",
        "timestamp": "2007-05-25 14:58:04",
        "slug": "6b6b",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "- **status**: pending --> open",
        "attachments": [],
        "author": "deathbob",
        "timestamp": "2007-05-25 14:58:04",
        "slug": "c33b",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: YES \nuser\\_id=907142\nOriginator: YES\n\nWell, it stopped banning again so i grabbed the logs before rebooting and:\r\n\r\n2007-06-03 09:46:05,514 fail2ban.actions: WARNING \\[SSH\\] Unban 61.51.17.161\r\n2007-06-03 10:55:16,207 fail2ban.actions: WARNING \\[SSH\\] Ban 201.17.146.59\r\n2007-06-03 11:25:16,344 fail2ban.actions: WARNING \\[SSH\\] Unban 201.17.146.59\r\n2007-06-04 06:18:43,790 fail2ban.actions: WARNING \\[SSH\\] Ban 61.51.17.161\r\n2007-06-04 06:48:44,291 fail2ban.actions: WARNING \\[SSH\\] Unban 61.51.17.161\r\n2007-06-04 19:27:34,656 fail2ban.actions.action: ERROR  iptables -D INPUT -p tcp --dport pop3 -j fail2ban-POP3\r\niptables -F fail2ban-POP3\r\niptables -X fail2ban-POP3 returned 100\r\n2007-06-04 19:27:37,547 fail2ban.actions.action: ERROR  iptables -D INPUT -p tcp --dport http -j fail2ban-APACHE\r\niptables -F fail2ban-APACHE\r\niptables -X fail2ban-APACHE returned 100\r\n2007-06-04 19:27:38,413 fail2ban.server : INFO   Exiting Fail2ban\r\n2007-06-04 19:34:11,441 fail2ban.jail   : INFO   Using Gamin\r\n2007-06-04 19:34:13,434 fail2ban.filter : INFO   Created Filter\r\n2007-06-04 19:34:14,818 fail2ban.comm   : WARNING Invalid command: \\['add', 'VSFTPD', 'auto'\\]\r\n\r\nSo what would cause it to think that was an invalid command? It's doing it itself.",
        "attachments": [],
        "author": "deathbob",
        "timestamp": "2007-06-06 15:56:59",
        "slug": "9e13",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\n&gt; Well, it stopped banning again so i grabbed the logs before rebooting\r\n\r\nDid you reboot your computer or did you just restart fail2ban? Did you run \"fail2ban-client reload\"?\r\n\r\n&gt; 2007-06-04 19:34:14,818 fail2ban.comm   : WARNING Invalid command: \\['add', 'VSFTPD', 'auto'\\]\r\n\r\nIf a jail named \"VSFTPD\" already exists, fail2ban-server will show this \"Invalid command\" error message. I guess that you did a \"reload\" and that the \"VSFTPD\" jail was not shutdown properly.\r\n\r\nDo you have another software that could modify your iptables rules?",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-06-11 22:10:06",
        "slug": "beb1",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "- **status**: open --> pending",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-06-11 22:10:06",
        "slug": "862b",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: YES \nuser\\_id=907142\nOriginator: YES\n\nI rebooted the computer after fail2ban hung.\r\nI did NOT do a reload.\r\n\r\n2007-06-04 19:34:14,818 fail2ban.comm   : WARNING Invalid command: \\['add', 'VSFTPD', 'auto'\\]\r\nwas the last thing output before hanging.\r\n\r\nFail2ban apparently reloaded itself when the iptables command failed.  I'll look into if I can find anything modifing iptables but I don't believe there is.",
        "attachments": [],
        "author": "deathbob",
        "timestamp": "2007-06-11 22:50:30",
        "slug": "8f38",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "- **status**: pending --> open",
        "attachments": [],
        "author": "deathbob",
        "timestamp": "2007-06-11 22:50:30",
        "slug": "7d80",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: NO \n\nI have a similar problem.\r\nrunning 0.8.0 on Debian etch.\r\nfail2ban-regex looks good:\r\n\r\nRunning tests\r\n=============\r\n\r\nUse regex file : filter.d/sshd.conf\r\nUse log file   : /var/log/auth.log\r\n\r\n\r\nResults\r\n=======\r\n\r\nFailregex:\r\n\\[1\\] Authentication failure for .\\* from &lt;HOST&gt;$\r\n\\[2\\] Failed \\[-/\\w\\]+ for .\\* from &lt;HOST&gt; port .\\* ssh2$\r\n\\[3\\] ROOT LOGIN REFUSED .\\* FROM &lt;HOST&gt;$\r\n\\[4\\] \\[iI\\]\\(?:llegal|nvalid\\) user .\\* from &lt;HOST&gt;$\r\n\\[5\\] Did not receive identification string from &lt;HOST&gt;$\r\n\\[6\\] Address &lt;HOST&gt; maps to .\\* but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT\\!$\r\n\r\nNumber of matches:\r\n\\[1\\] 0 match\\(es\\)\r\n\\[2\\] 38 match\\(es\\)\r\n\\[3\\] 0 match\\(es\\)\r\n\\[4\\] 29 match\\(es\\)\r\n\\[5\\] 8 match\\(es\\)\r\n\\[6\\] 0 match\\(es\\)\r\n\r\nBut nobody gets banned, as soon as fail2ban-server sees a regex match it seems to just stop. \r\nI can get to scan the logs again with a reload, but still nobody gets banned.  I see this in my auth.log:\r\n\r\nJun 21 04:27:33 phant sshd\\[23581\\]: Did not receive identification string from 67.109.174.77\r\n\r\nand I see this in fail2ban.log, then end of file, nothing more until after the reload.\r\n\r\n2007-06-21 04:27:33,846 fail2ban.filter : DEBUG  /var/log/auth.log has been modified\r\n2007-06-21 04:27:33,846 fail2ban.filter : DEBUG  Opened /var/log/auth.log\r\n2007-06-21 04:27:33,847 fail2ban.filter : DEBUG  Setting file position to 26614 for /var/log/auth.log\r\n\r\nWhat's up with that?",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-06-22 13:03:44",
        "slug": "722d",
        "subject": "#22 Fail2ban stops banning"
      },
      {
        "text": "Logged In: NO \n\nI think yours is a problem with the action you may be using.  I recommend iptables if it is available.",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-06-22 14:17:34",
        "slug": "0ae8",
        "subject": "#22 Fail2ban stops banning"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-06-11 22:50:30",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2662718464f1a12f9f3",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/3aefbfb1/",
  "ticket_num": 22,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-05-22 15:38:25"
},{
  "status": "closed-fixed",
  "reported_by_id": "50771de071b75b4a57a05b02",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "drees76",
  "description": "When running fail2ban on an idle system \\(Fedora Core 7\\) powertop \\(http://www.linuxpowertop.org/\\) is reporting that fail2ban-server wakes up about 30 times a second. This keeps the CPU from lower power states and on notebooks can significantly affect battery life.\r\n\r\nI've had a quick scan through the code and can't find any obvious offenders \\(all sleeps seem to be on the order of 1 second\\), but I'm not a python hacker.",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Unnecessary Wakeups - ~30/second",
  "discussion_thread": {
    "_id": "224aed60",
    "posts": [
      {
        "text": "Remove join() workaround",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/224aed60/f9e3/attachment/fail2ban-remove-join-workaround.diff",
            "bytes": 598
          }
        ],
        "author": "lostcontrol",
        "timestamp": "2007-08-15 23:30:53",
        "slug": "f9e3",
        "subject": "#23 Unnecessary Wakeups - ~30/second"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nThe attached patch should fix those frequent weak-ups. However, SIGINT and SIGTERM will NOT work anymore. You can still use \"fail2ban-client stop\" to terminate the server. A better fix is needed.\r\n\r\nThis bug is related to this one:\r\n\r\nhttps://sourceforge.net/tracker/?func=detail&atid=105470&aid=1167930&group\\_id=5470\r\n\r\nAny suggestion?\nFile Added: fail2ban-remove-join-workaround.diff",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-08-15 23:30:53",
        "slug": "9a89",
        "subject": "#23 Unnecessary Wakeups - ~30/second"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-08-15 23:30:53",
        "slug": "9ef0",
        "subject": "#23 Unnecessary Wakeups - ~30/second"
      },
      {
        "text": "Logged In: YES \nuser\\_id=635799\nOriginator: YES\n\nThanks, that patch reduces the number of wakeups from 28/second to 3/second. I think there are a couple of polling loops which are waking fail2ban up, but it's much better now \\(it still wakes up the most on an idle server with Apache, Postgres, Postfix, Dovecot\\)\r\n\r\nIn the bug you refer to it mentions that the signal/join bug is fixed in Python 2.5.1. Have you been able to verify? My most recent systems \\(Fedora 7\\) only have Python 2.5.\r\n\r\nEither way, since fail2ban still is able to shut down using the fail2ban-client stop command, the lack of TERM/INT signal handling isn't an issue for me.",
        "attachments": [],
        "author": "drees76",
        "timestamp": "2007-08-16 08:17:59",
        "slug": "ad2f",
        "subject": "#23 Unnecessary Wakeups - ~30/second"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nFixed correctly in 0.9 branch.\r\n\r\nI replaced my own socket server implementation with asyncore/asynchat which is probably a lot better than what I have done ;\\)\r\n\r\nThere are still some wake-ups. I will try to remove them too.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-09-09 22:05:27",
        "slug": "7e10",
        "subject": "#23 Unnecessary Wakeups - ~30/second"
      },
      {
        "text": "- **status**: open-accepted --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-09-09 22:05:27",
        "slug": "b47e",
        "subject": "#23 Unnecessary Wakeups - ~30/second"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-09-09 22:05:27",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf26c2718464f1a12fa48",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/224aed60/",
  "ticket_num": 23,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-08-07 19:26:05"
},{
  "status": "open-accepted",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "I have fail2ban installed in a Debian Etch server, it's working OK until some time that is still checking the log but not banning anything but there is still new lines matching regex, log is as follows:\r\n\r\n\r\n2007-10-28 06:30:53,465 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:30:53,465 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:30:53,468 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:30:53,473 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:30:53,837 fail2ban.actions: WARNING \\[spam\\] Ban 83.29.138.213\r\n2007-10-28 06:30:53,837 fail2ban.actions.action: DEBUG  iptables -nL INPUT | grep -q fail2ban-SPAM\r\n2007-10-28 06:30:53,876 fail2ban.actions.action: DEBUG  iptables -nL INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-10-28 06:30:53,877 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 83.29.138.213 -p tcp --dport smtp -j DROP\r\n2007-10-28 06:30:53,894 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 83.29.138.213 -p tcp --dport smtp -j DROP ret\r\nurned successfully\r\n2007-10-28 06:30:54,476 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:30:54,477 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:30:54,478 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:30:54,479 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:30:54,898 fail2ban.actions: WARNING \\[spam\\] Ban 71.58.28.162\r\n2007-10-28 06:30:54,899 fail2ban.actions.action: DEBUG  iptables -nL INPUT | grep -q fail2ban-SPAM\r\n2007-10-28 06:30:54,937 fail2ban.actions.action: DEBUG  iptables -nL INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-10-28 06:30:54,938 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 71.58.28.162 -p tcp --dport smtp -j DROP\r\n2007-10-28 06:30:54,958 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 71.58.28.162 -p tcp --dport smtp -j DROP retu\r\nrned successfully\r\n2007-10-28 06:30:55,479 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:30:55,480 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:30:55,481 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:30:55,484 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:30:56,484 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:30:56,488 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:30:56,490 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:30:56,495 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:30:57,494 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:30:57,494 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:30:57,495 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:30:57,496 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:30:58,496 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:30:58,503 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:30:58,506 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:30:58,512 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:30:59,514 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:30:59,514 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:30:59,515 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:30:59,516 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:00,518 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:00,519 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:00,523 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:00,527 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:01,532 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:01,532 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:01,536 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:01,543 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:02,547 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:02,547 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:02,548 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:02,550 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:03,550 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:03,551 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:03,552 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:03,555 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:04,554 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:04,554 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:04,555 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:04,557 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:05,557 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:05,557 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:05,558 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:05,560 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:06,561 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:06,561 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:06,562 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:06,569 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:08,571 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:08,572 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:08,572 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:08,574 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:09,574 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:09,575 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:09,575 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:09,577 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:10,578 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:10,578 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:10,579 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:10,580 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-10-28 06:31:11,582 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-10-28 06:31:11,582 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-10-28 06:31:11,583 fail2ban.filter : DEBUG  Setting file position to 76673695L for /var/log/mail.log\r\n2007-10-28 06:31:11,584 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n\r\n\r\nOther times Fail2ban simply start unban of every banned IP, and closes itself \\(no server process running\\), without error in the logs.\r\n\r\nContact: jralfageme@alhsys.es",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Fail2ban 0.8.1 stops working",
  "discussion_thread": {
    "_id": "e46a3e1c",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nHi,\r\n\r\nInteresting... The position stays the same \\(76673695L\\). This is probably not normal. Could you use screen and run this in one terminal:\r\n\r\n\\# fail2ban-server -f\r\n\r\nand in another one:\r\n\r\n\\# fail2ban-client reload",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-10-29 20:58:56",
        "slug": "7517",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **summary**: Fail2ban 8.0.1 stops working --> Fail2ban 0.8.1 stops working\n- **status**: open --> open-accepted",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-10-29 20:58:56",
        "slug": "b7ee",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nI didn't realized the log position wasn't changing, I tried the commands but I'm doing something wrong:\r\n\r\n\\#fail2ban-server -f\r\n2007-10-30 08:15:15,542 fail2ban.server : INFO   Starting Fail2ban\r\n\r\n\\# fail2ban-client reload\r\nERROR  Could not find server\r\n\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-10-30 07:25:35",
        "slug": "5308",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nCould you try to set the socket file explicitly?\r\n\r\n\\# fail2ban-server -f -s /tmp/fail2ban-test.sock\r\n\r\nand\r\n\r\n\\# fail2ban-client -vvv -s /tmp/fail2ban-test.sock reload",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-10-30 09:46:40",
        "slug": "f476",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nNow it works, I'll wait until problem arises again and attach info show by the server running in foreground:\r\n\r\n\\# fail2ban-server -f -s /tmp/fail2ban-test.sock\r\n2007-10-30 11:48:35,801 fail2ban.server : INFO   Starting Fail2ban\r\n2007-10-30 11:48:45,040 fail2ban.comm   : DEBUG  Connection closed\r\n2007-10-30 11:48:45,041 fail2ban.comm   : DEBUG  Starting new thread to handle the request\r\n2007-10-30 11:48:45,042 fail2ban.comm   : DEBUG  Command: \\['set', 'logtarget', '/var/log/fail2ban.log'\\]\r\n\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-10-30 11:23:52",
        "slug": "c5a7",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nServer crashed completely this time:\r\n\r\n\\# fail2ban-server -f -s /tmp/fail2ban-test.sock\r\n2007-10-30 15:37:05,699 fail2ban.server : INFO   Starting Fail2ban\r\n2007-10-30 15:37:16,653 fail2ban.comm   : DEBUG  Connection closed\r\n2007-10-30 15:37:16,654 fail2ban.comm   : DEBUG  Starting new thread to handle the request\r\n2007-10-30 15:37:16,654 fail2ban.comm   : DEBUG  Command: \\['set', 'logtarget', '/var/log/fail2ban.log'\\]\r\n\\[Errno 514\\] Unknown error 514\r\nTraceback \\(most recent call last\\):\r\nFile \"logging/\\_\\_init\\_\\_.py\", line 737, in emit\r\nValueError: I/O operation on closed file\r\nTraceback \\(most recent call last\\):\r\nFile \"logging/\\_\\_init\\_\\_.py\", line 737, in emit\r\nValueError: I/O operation on closed file\r\n\r\n\r\nThanks for your support\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-10-31 11:22:39",
        "slug": "14d8",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Remove handler before closing stream",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/e46a3e1c/4862/attachment/remove-handler-before-close.patch",
            "bytes": 728
          }
        ],
        "author": "lostcontrol",
        "timestamp": "2007-10-31 21:51:43",
        "slug": "4862",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nCan you reproduce this crash? Could you try the attached patch? I'm not really sure about the origin of this bug :/ I found \\[1\\] and that could be a candidate too...\r\n\r\nThanks\r\n\r\n\\[1\\] http://mail.python.org/pipermail/python-dev/2007-January/070626.html\nFile Added: remove-handler-before-close.patch",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-10-31 21:51:43",
        "slug": "2d52",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nCrash cannot be reproduced, it simply happens without any apparent reason and it's not posible to know when it's going to happen again, if you don't mind I'm going to wait for another crash before apply the patch just to be sure of the reason, usually crashes 24-48 hours before starting the server.\r\n\r\nThanks for your support :-\\)",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-11-01 07:46:41",
        "slug": "5edd",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nI had a new crash, this time server was still running but not responding, and I don't know why because there is no log since first time logs rotated, because I forgot change logrotate script to made a reload with new parameters in mind I think adding \"/usr/bin/fail2ban-client -s \"/tmp/fail2ban-test.sock\" reload\" in postrotate commands is enough.\r\n\r\nPatch was applied to my server.py \"/usr/share/fail2ban/server/server.py\" I will wait to see what happens now.\r\n\r\n\r\nLast crash:\r\n\r\n\\# /usr/bin/fail2ban-client -s \"/tmp/fail2ban-test.sock\" ping       \r\nERROR  Unable to contact server. Is it running?\r\n\\# ps ax | grep fail2ban\r\n2728 pts/1    Sl+   52:14 /usr/bin/python /usr/bin/fail2ban-server -f -s /tmp/fail2ban-test.sock\r\n\\# fail2ban-server -f -s /tmp/fail2ban-test.sock\r\n2007-10-30 15:49:14,691 fail2ban.server : INFO   Starting Fail2ban\r\n2007-10-30 15:49:20,828 fail2ban.comm   : DEBUG  Connection closed\r\n2007-10-30 15:49:20,828 fail2ban.comm   : DEBUG  Starting new thread to handle the request\r\n2007-10-30 15:49:20,829 fail2ban.comm   : DEBUG  Command: \\['set', 'logtarget', '/var/log/fail2ban.log'\\]\r\n\r\n\r\nThanks",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-11-02 08:09:18",
        "slug": "c96d",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nSorry, could you change the log target to STDOUT? Thus everything will be printed on the console. You can just run:\r\n\r\n\\# fail2ban-client -s /tmp/fail2ban-test.sock set logtarget STDOUT\r\n\r\nor modify your configuration file and restart fail2ban. Is the socket file still present when the problem occurs? Do you have tmpwatch or similar /tmp cleanup script running periodically on your system?\r\n\r\nBtw, what kind of architecture is fail2ban running on? It could be worth trying a nightly build from trunk. I have reworked the communication layer completely and configuration layout is \\(for the moment\\) backward compatible with 0.8. You can even run the nightly without installing it. Have a look at the \"-c\" command line option. Let me know if you need help.\r\n\r\nThanks",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-11-02 08:40:50",
        "slug": "4eeb",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nThere isn't tmp cleaning script and socket is still in it's place.\r\n\r\nFail2ban is running in Debian Etch VMWare Server virtual machine with Xeon Processor.\r\n\r\n\r\nI had a new crash now with logs, but now it appears to be more stable, I will wait a bit to see if it's true:\r\n\r\n\r\n\\# fail2ban-server -f -s /tmp/fail2ban-test.sock\r\n2007-11-02 08:51:58,900 fail2ban.server : INFO   Starting Fail2ban\r\n2007-11-02 08:52:27,864 fail2ban.comm   : DEBUG  Connection closed\r\n2007-11-02 08:52:27,866 fail2ban.comm   : DEBUG  Starting new thread to handle the request\r\n2007-11-02 08:52:27,867 fail2ban.comm   : DEBUG  Command: \\['set', 'logtarget', '/var/log/fail2ban.log'\\]\r\n\\[Errno 514\\] Unknown error 514\r\nTraceback \\(most recent call last\\):\r\nFile \"logging/\\_\\_init\\_\\_.py\", line 737, in emit\r\nValueError: I/O operation on closed file\r\nTraceback \\(most recent call last\\):\r\nFile \"logging/\\_\\_init\\_\\_.py\", line 737, in emit\r\nValueError: I/O operation on closed file\r\n\r\n\r\n\r\n2007-11-03 15:03:09,687 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-11-03 15:03:09,687 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-11-03 15:03:09,688 fail2ban.filter : DEBUG  Setting file position to 22319973L for /var/log/mail.log\r\n2007-11-03 15:03:09,690 fail2ban.filter : DEBUG  Found 82.56.29.82\r\n2007-11-03 15:03:09,691 fail2ban.filter : DEBUG  Found 200.140.160.37\r\n2007-11-03 15:03:09,693 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-11-03 15:03:10,696 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-11-03 15:03:10,696 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-11-03 15:03:10,697 fail2ban.filter : DEBUG  Setting file position to 22321143L for /var/log/mail.log\r\n2007-11-03 15:03:10,699 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-11-03 15:03:11,699 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-11-03 15:03:11,699 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-11-03 15:03:11,700 fail2ban.filter : DEBUG  Setting file position to 22321593L for /var/log/mail.log\r\n2007-11-03 15:03:11,701 fail2ban.filter : DEBUG  Found 122.164.225.67\r\n2007-11-03 15:03:11,702 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-11-03 15:03:12,074 fail2ban.actions: WARNING \\[spam\\] Ban 122.164.225.67\r\n2007-11-03 15:03:12,074 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:12,111 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:12,113 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 122.164.225.67 -j DROP\r\n2007-11-03 15:03:12,139 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 122.164.225.67 -j DROP returned successfully\r\n2007-11-03 15:03:12,703 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-11-03 15:03:12,704 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-11-03 15:03:12,705 fail2ban.filter : DEBUG  Setting file position to 22322065L for /var/log/mail.log\r\n2007-11-03 15:03:12,706 fail2ban.filter : DEBUG  Found 89.178.155.206\r\n2007-11-03 15:03:12,707 fail2ban.filter : DEBUG  Found 85.135.130.106\r\n2007-11-03 15:03:12,709 fail2ban.filter : DEBUG  Found 142.166.78.218\r\n2007-11-03 15:03:12,710 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-11-03 15:03:13,711 fail2ban.filter : DEBUG  /var/log/mail.log has been modified\r\n2007-11-03 15:03:13,711 fail2ban.filter : DEBUG  Opened /var/log/mail.log\r\n2007-11-03 15:03:13,712 fail2ban.filter : DEBUG  Setting file position to 22323817L for /var/log/mail.log\r\n2007-11-03 15:03:13,715 fail2ban.filter.datedetector: DEBUG  Sorting the template list\r\n2007-11-03 15:03:13,889 fail2ban.actions: WARNING \\[spam\\] Ban 142.166.78.218\r\n2007-11-03 15:03:13,889 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:14,306 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:14,308 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 142.166.78.218 -j DROP\r\n2007-11-03 15:03:14,325 fail2ban.actions.action: DEBUG  iptables -I fail2ban-SPAM 1 -s 142.166.78.218 -j DROP returned successfully\r\n2007-11-03 15:03:14,325 fail2ban.actions: DEBUG  Flush ban list\r\n2007-11-03 15:03:14,326 fail2ban.actions: WARNING \\[spam\\] Unban 85.107.149.73\r\n2007-11-03 15:03:14,326 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:14,350 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:14,351 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 85.107.149.73 -j DROP\r\n2007-11-03 15:03:14,369 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 85.107.149.73 -j DROP returned successfully\r\n2007-11-03 15:03:14,371 fail2ban.actions: WARNING \\[spam\\] Unban 82.138.52.149\r\n2007-11-03 15:03:14,372 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:14,716 fail2ban.filter : DEBUG  spam: filter terminated\r\n2007-11-03 15:03:14,897 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:14,897 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 82.138.52.149 -j DROP\r\n2007-11-03 15:03:14,979 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 82.138.52.149 -j DROP returned successfully\r\n2007-11-03 15:03:14,981 fail2ban.actions: WARNING \\[spam\\] Unban 89.228.251.128\r\n2007-11-03 15:03:14,981 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:15,008 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:15,009 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 89.228.251.128 -j DROP\r\n2007-11-03 15:03:15,027 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 89.228.251.128 -j DROP returned successfully\r\n2007-11-03 15:03:15,029 fail2ban.actions: WARNING \\[spam\\] Unban 222.72.113.73\r\n2007-11-03 15:03:15,029 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:15,057 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:15,058 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 222.72.113.73 -j DROP\r\n2007-11-03 15:03:15,077 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 222.72.113.73 -j DROP returned successfully\r\n2007-11-03 15:03:15,078 fail2ban.actions: WARNING \\[spam\\] Unban 87.0.48.238\r\n2007-11-03 15:03:15,079 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:15,312 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:15,313 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 87.0.48.238 -j DROP\r\n2007-11-03 15:03:15,431 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 87.0.48.238 -j DROP returned successfully\r\n2007-11-03 15:03:15,432 fail2ban.actions: WARNING \\[spam\\] Unban 123.99.99.60\r\n2007-11-03 15:03:15,433 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:15,559 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:15,560 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 123.99.99.60 -j DROP\r\n2007-11-03 15:03:15,578 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 123.99.99.60 -j DROP returned successfully\r\n2007-11-03 15:03:15,579 fail2ban.actions: WARNING \\[spam\\] Unban 121.246.231.251\r\n2007-11-03 15:03:15,580 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:15,704 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:15,705 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 121.246.231.251 -j DROP\r\n2007-11-03 15:03:15,826 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 121.246.231.251 -j DROP returned successfully\r\n2007-11-03 15:03:15,828 fail2ban.actions: WARNING \\[spam\\] Unban 71.245.76.117\r\n2007-11-03 15:03:15,830 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM\r\n2007-11-03 15:03:16,053 fail2ban.actions.action: DEBUG  iptables -n -L INPUT | grep -q fail2ban-SPAM returned successfully\r\n2007-11-03 15:03:16,055 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 71.245.76.117 -j DROP\r\n2007-11-03 15:03:16,072 fail2ban.actions.action: DEBUG  iptables -D fail2ban-SPAM -s 71.245.76.117 -j DROP returned successfully",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-11-05 07:38:26",
        "slug": "1cce",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nCrash happened again with the same error code, What do you think? how can I get that nightly build from trunk? Did you need any more info?\r\n\r\nThanks for your support.",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-11-07 07:46:17",
        "slug": "d62f",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nDid you change the log target to STDOUT? Does this \"ValueError\" exception happen right after \\[1\\]? Does fail2ban still work after this exception happens or does the process die?\r\n\r\nYou will find a nightly package at \\[2\\].\r\n\r\nThank you.\r\n\r\n\\[1\\] 2007-11-02 08:52:27,867 fail2ban.comm   : DEBUG  Command: \\['set', 'logtarget', '/var/log/fail2ban.log'\\]\r\n\\[2\\] http://www.fail2ban.org/nightly/fail2ban-trunk.tar.bz2",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-11-07 08:16:42",
        "slug": "d883",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nSorry I forgot use stdout I'll try that first if it crash again then I'll try \\[2\\] I'll inform about any new event.\r\n\r\nThanks",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-11-07 14:05:49",
        "slug": "6ecc",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nToday there was another crash \"\\[Errno 514\\] Unknown error 514\" using log target STDOUT, do you still recommend trying the nightly build? or do you have any other idea?\r\n\r\nThanks for your support :\\)",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-11-14 13:33:10",
        "slug": "e82d",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      },
      {
        "text": "Logged In: NO \n\nCrashes are still present in Nightly build finally I decided to create a cron script to monitor status of fail2ban and reload, restart or start it as necesary in event of a crash.\r\n\r\nThanks for your support",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2007-11-21 08:59:11",
        "slug": "2c84",
        "subject": "#24 Fail2ban 0.8.1 stops working"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-10-29 20:58:56",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf26e2718464f1a12fa73",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/e46a3e1c/",
  "ticket_num": 24,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-10-29 17:57:46"
},{
  "status": "closed-fixed",
  "reported_by_id": "4f2a854cb9363c20c70002f3",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "vogel",
  "description": "setup.py is missing an entry for the recently added module server/communication.",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "build problem, with patch",
  "discussion_thread": {
    "_id": "0bcf45fa",
    "posts": [
      {
        "text": "",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/0bcf45fa/0977/attachment/fail2ban-0.9.0-SVN-instmodule.patch",
            "bytes": 386
          }
        ],
        "author": "vogel",
        "timestamp": "2007-11-09 18:07:54",
        "slug": "0977",
        "subject": "#25 build problem, with patch"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nOups... I forgot to commit this one.\r\n\r\nThank you",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-11-12 22:47:15",
        "slug": "3f7c",
        "subject": "#25 build problem, with patch"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2007-11-12 22:47:15",
        "slug": "cd24",
        "subject": "#25 build problem, with patch"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2007-11-12 22:47:15",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2782718464f1a12fad4",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/0bcf45fa/",
  "ticket_num": 25,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-11-09 18:07:54"
},{
  "status": "closed-fixed",
  "reported_by_id": "517554322718467ad6923d81",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "hcz",
  "description": "The first header field in mails sent by fail2ban isn't formatted properly \\(it gets prefixed by \"-en \"\\), leaving the header unset for many mail programs.\r\n\r\nAn example:\r\n\r\n-en Subject: \\[Fail2Ban\\] vsftpd-administrator: started\r\nFrom: Fail2Ban &lt;fail2ban&gt;\r\nTo: root@localhost\r\n\r\nThis can be tracked down to 'echo -en' statements in the corresponding action scripts.\r\n\r\nThe 'echo' command and its portability among shells is a very special issue: One simply cannot expect any single combination of options and a random string to work among all Bourne type shells - even if you omit all options, but your string happens to start in '-' you may run into trouble.\r\n\r\nThere's a portable replacement: printf.  Replacing all occurrences of 'echo -en' by 'printf \"%%b\"' does the job of echo -en \\(the double '%' is to make the Python parser in fail2ban happy, yielding a single '%'.\\).\r\n\r\nThis applies to:\r\napt-cache policy fail2ban\r\nfail2ban:\r\nInstalled: 0.8.1-1\r\nCandidate: 0.8.1-1\r\nVersion table:\r\n\\*\\*\\* 0.8.1-1 0\r\n500 http://de.archive.ubuntu.com gutsy/universe Packages\r\n100 /var/lib/dpkg/status\r\n\r\nAnd thanks for a fine program.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "First header line gets garbled in mails",
  "discussion_thread": {
    "_id": "7cd475b4",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nFixed in 0.8 branch. Will be in 0.8.2.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-03-04 23:15:40",
        "slug": "5034",
        "subject": "#26 First header line gets garbled in mails"
      },
      {
        "text": "- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-03-04 23:15:40",
        "slug": "e6aa",
        "subject": "#26 First header line gets garbled in mails"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-03-04 23:15:40",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf27a2718464f1a12faf1",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/7cd475b4/",
  "ticket_num": 26,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-11-27 18:17:09"
},{
  "status": "closed-fixed",
  "reported_by_id": "509c1f9f271846175a910b86",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "lucatrv",
  "description": "Hi, I would like highlight two points concerning the use of the shorewall action from Fail2ban.\r\n\r\n1\\) I noticed that using the default iptable action or the shorewall action in Fail2ban leads to different firewall behaviors, in the sense that while the iptable action is configured to add a new drop rule for that IP address, the shorewall action adds a reject rule. In order to get more similar behaviors I would modify the /etc/fail2ban/action.d/shorewall.conf file changing \"actionban = shorewall reject &lt;ip&gt;\" into \"actionban = shorewall drop &lt;ip&gt;\".\r\n\r\n2\\) The default Shorewall configuration is with \"BLACKLISTNEWONLY=Yes\" \\(see file /etc/shorewall/shorewall.conf\\). This means that when Fail2ban adds a new shorewall rule to ban an IP address, that rule will affect only new connections. So if the attempter goes on trying using the same connection he could even log in. In order to get the same behavior of the iptable action \\(so that the ban is immediate\\) the /etc/shorewall/shorewall.conf file should me modified with \"BLACKLISTNEWONLY=No\". I suggest to add a reference to this subject in the shorewall.conf file \\(in fact an incorrect configuration could lead to a security hole of Shorewall+Fail2ban\\).\r\n\r\nThanks a lot for your package,\r\nLuca",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Improvements for use of Shorewall+Fail2ban",
  "discussion_thread": {
    "_id": "08196c4e",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nFixed in 0.8 branch. Will be in 0.8.2.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-03-04 23:20:35",
        "slug": "ae2c",
        "subject": "#27 Improvements for use of Shorewall+Fail2ban"
      },
      {
        "text": "- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-03-04 23:20:36",
        "slug": "40af",
        "subject": "#27 Improvements for use of Shorewall+Fail2ban"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-03-04 23:20:36",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf27c2718464f1a12fb02",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/08196c4e/",
  "ticket_num": 27,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2007-12-20 13:40:38"
},{
  "status": "closed-fixed",
  "reported_by_id": "50b73c90e88f3d0c0a5ba354",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "tach",
  "description": "On latest fail2ban \\(0.8.1\\) cannot recognize leap-year day  as follows:\r\n\r\n1\\. Up loglevel to 4 \\(DEBUG\\) on your fail2ban.conf\r\n2\\. Following message is shown at your fail2ban.log\r\n\r\n2008-02-29 06:26:37,548 fail2ban.filter : DEBUG  Found a match but no valid date/time found for Feb 29 05:14:55 osdnns sshd\\[3776\\]: Invalid user users from 74.205.125.93\r\n. Please contact the author in order to get support for this format\r\n\r\nMaybe it causes at \"server/datestrptime.py\". python time.strptime\\(\\) cannot recognize reap-year day when the year has not specified as follows:\r\n\r\n\r\n% python\r\nPython 2.4.4 \\(\\#2, Apr  5 2007, 20:11:18\\)\r\n\\[GCC 4.1.2 20061115 \\(prerelease\\) \\(Debian 4.1.1-21\\)\\] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n&gt;&gt;&gt; import time\r\n&gt;&gt;&gt; time.strptime\\(\"Feb 29 05:14:55\", \"%b %d %H:%M:%S\"\\)\r\nTraceback \\(most recent call last\\):\r\nFile \"&lt;stdin&gt;\", line 1, in ?\r\nFile \"/usr/lib/python2.4/\\_strptime.py\", line 425, in strptime\r\njulian = datetime\\_date\\(year, month, day\\).toordinal\\(\\) - \\\r\nValueError: day is out of range for month\r\n\r\n\r\nStandard syslogd does not recorded year.  Therefore fail2ban failed to recognize leap-year day.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban cannot recognize leap-year day",
  "discussion_thread": {
    "_id": "342c3fb9",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=131241\nOriginator: YES\n\nWhen the year specified, strptime\\(\\) returns correct value as follows:\r\n\r\n&gt;&gt;&gt; time.strptime\\(\"Feb 29 06:26:55\", \"%b %d %H:%M:%S\"\\)\r\nTraceback \\(most recent call last\\):\r\nFile \"&lt;stdin&gt;\", line 1, in ?\r\nFile \"/usr/lib/python2.4/\\_strptime.py\", line 425, in strptime\r\njulian = datetime\\_date\\(year, month, day\\).toordinal\\(\\) - \\\r\nValueError: day is out of range for month\r\n&gt;&gt;&gt; time.strptime\\(\"2008 Feb 29 06:26:55\", \"%Y %b %d %H:%M:%S\"\\)\r\n\\(2008, 2, 29, 6, 26, 55, 4, 60, -1\\)\r\n\r\nSo, fail2ban may append \"this year\" valut to strptime\\(\\) argument to fix this problem.\r\n\r\nThanks,",
        "attachments": [],
        "author": "tach",
        "timestamp": "2008-02-29 04:36:25",
        "slug": "8fda",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      },
      {
        "text": "Logged In: NO \n\nI also got this error:\r\n\r\n2008-02-29 00:00:02,648 ERROR: Fail2Ban got an unhandled exception and died.\r\n2008-02-29 00:00:02,649 ERROR: Type: 'ValueError'\r\nValue: \\('day is out of range for month',\\)\r\nTB: \\[\\('/usr/bin/fail2ban', 47, '?', 'fail2ban.main\\(\\)'\\), \\('/usr/share/fail2ban/fail2ban.py', 519, 'main', 'e = element\\[1\\].getFailures\\(\\)'\\), \\('/usr/share/fail2ban/logreader/logreader.py', 158, 'getFailures', 'self.lastDate = self.getTime\\(lastLine\\)'\\), \\('/usr/share/fail2ban/logreader/logreader.py', 205, 'getTime', 'date = self.getUnixTime\\(timeMatch.group\\(\\)\\)'\\), \\('/usr/share/fail2ban/logreader/logreader.py', 213, 'getUnixTime', 'date = list\\(time.strptime\\(value, self.timepattern\\)\\)'\\), \\('/usr/lib/python2.4/\\_strptime.py', 425, 'strptime', 'julian = datetime\\_date\\(year, month, day\\).toordinal\\(\\) - \\\\\\'\\)\\]\r\n2008-02-29 00:00:02,649 WARNING: Restoring firewall rules...",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2008-02-29 09:53:34",
        "slug": "6ffd",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      },
      {
        "text": "Logged In: NO \n\nIn 0.6.2 it prints:\r\n...\r\n2008-02-29 10:49:56,905 ERROR: day is out of range for month\r\n2008-02-29 10:49:56,906 ERROR: Please check the format and your locale settings.\r\n2008-02-29 10:52:18,047 ERROR: day is out of range for month\r\n2008-02-29 10:52:18,048 ERROR: Please check the format and your locale settings.\r\n...\r\nall the time.",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2008-02-29 10:10:51",
        "slug": "f61e",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      },
      {
        "text": "Fix leap year detection for 0.8.1",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/342c3fb9/c194/attachment/fix-leap-year-detection-0.8.1.patch",
            "bytes": 790
          }
        ],
        "author": "lostcontrol",
        "timestamp": "2008-02-29 10:22:48",
        "slug": "c194",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nFixed in the 0.8 branch. I attached a patch for 0.8.1. I will release a patch for 0.6.2 this evening. Many thanks to Yaroslav Halchenko for the patch.\nFile Added: fix-leap-year-detection-0.8.1.patch",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-02-29 10:22:48",
        "slug": "ff32",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      },
      {
        "text": "- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-02-29 10:22:48",
        "slug": "a631",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      },
      {
        "text": "Fix leap year detection for 0.6.2",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/342c3fb9/82b3/attachment/fix-leap-year-detection-0.6.2.patch",
            "bytes": 730
          }
        ],
        "author": "lostcontrol",
        "timestamp": "2008-02-29 12:34:20",
        "slug": "82b3",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nFile Added: fix-leap-year-detection-0.6.2.patch",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-02-29 12:34:20",
        "slug": "c931",
        "subject": "#28 fail2ban cannot recognize leap-year day"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-02-29 10:22:48",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf27f2718464f1a12fb13",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/342c3fb9/",
  "ticket_num": 28,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-02-29 04:33:54"
},{
  "status": "open",
  "reported_by_id": "5178421de88f3d0a8f5e9ae5",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "quinncom",
  "description": "When fail2ban adds logfiles to follow it does not account for symlinks. For example, the following output when reloading fail2ban shows logs being added. There is in fact only one error\\_log on this server, but users have symlinked ~/www -&gt; /var/www as a shortcut.\r\n\r\nAdded logfile = /home/james/www/log/error\\_log\r\nAdded logfile = /home/jay/www/log/error\\_log\r\nAdded logfile = /home/q/www/log/error\\_log\r\nAdded logfile = /home/jason/www/log/error\\_log\r\nAdded logfile = /var/www/log/error\\_log\r\n\r\nI'm concerned this might cause problems or at least use unnecessary resources. It would be clever to check the inode of a logfile to ensure it wasn't yet in the stack.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Logfiles are duplicated when adding",
  "discussion_thread": {
    "_id": "363a3245",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-04-24 01:33:47",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2862718464f1a12fb5e",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/363a3245/",
  "ticket_num": 30,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-04-24 01:33:47"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "fail2ban-client get proftpd-iptables logpath\r\n\r\nWARNING Beautifier error. Please report the error\r\nERROR  Beautify \\[&lt;server.filter.FileContainer instance at 0xb79f30cc&gt;\\] with \\['get', 'proftpd-iptables', 'logpath'\\] failed\r\nCurrent monitored log file\\(s\\):\r\n\\[&lt;server.filter.FileContainer instance at 0xb79f30cc&gt;\\]",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Fail2Ban v0.8.2 fail2ban-client error",
  "discussion_thread": {
    "_id": "acf95f62",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nFixed in 0.8 branch. Thanks.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-03-17 23:19:20",
        "slug": "04d8",
        "subject": "#29 Fail2Ban v0.8.2 fail2ban-client error"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-03-17 23:19:20",
        "slug": "021c",
        "subject": "#29 Fail2Ban v0.8.2 fail2ban-client error"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-03-17 23:19:20",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2842718464f1a12fb4d",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/acf95f62/",
  "ticket_num": 29,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-03-17 16:54:08"
},{
  "status": "open",
  "reported_by_id": "5171d71034309d2ea3b170e3",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "junderwood",
  "description": "Please see:\r\n\r\nhttps://bugzilla.redhat.com/show\\_bug.cgi?id=437633\r\n\r\nand the discussion here:\r\n\r\nhttp://mail.gnome.org/archives/gamin-list/2008-May/msg00000.html\r\n\r\nIn brief, there's a bad interaction between gam\\_server and selinux which is breaking fail2ban. The issue is, if some process starts a gam\\_server as UID root it will be assigned a SElinux domain according to the process that started gam\\_server. If another UID root process tries to connect to the socket of that first gam\\_server, according to the gamin logic it should be allowed, since the UID is correct. However, the second process fails to connect because it has a different SElinux domain. In actual fact, this is showing up a security problem in gam\\_server, in that when used in this way, different processes can get at information thru' gam\\_server that they shouldn't necessarily have access too.\r\n\r\nThe gamin maintainer has explained that this is difficult to fix within the current gamin design. Furthermore, he points out that gamin really is designed for servicing desktop needs, rather than the sort of use that fail2ban is using it for.\r\n\r\nI would suggest it's probably adviseable to deprecate gamin use in fail2ban in favour of python-inotify \\(which seems more actively maintained than pyinotify\\).\r\n\r\nI'd be interested in your thoughts on this.",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Fail2ban broken with gamin and SElinux",
  "discussion_thread": {
    "_id": "485a96f1",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nPyinotify is in my todo list for quite a long time. I will look at this as soon as possible.\r\n\r\nThank you.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-16 20:19:15",
        "slug": "1969",
        "subject": "#31 Fail2ban broken with gamin and SElinux"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-16 20:19:15",
        "slug": "0fc5",
        "subject": "#31 Fail2ban broken with gamin and SElinux"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-07-16 20:19:15",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2882718464f1a12fb65",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/485a96f1/",
  "ticket_num": 31,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-05-25 13:21:28"
},{
  "status": "open",
  "reported_by_id": "513f66b6e88f3d5547c07de1",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "cormanaz",
  "description": "When running on Red Hat, the installer doesn't create the directory /var/run/fail2ban which in turn generates Error 2 when you try to start the server.  I created the directory manually and it fixed the problem, but it took some hunting around to determine this was the fix. ",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Installer doesn't create /var/run/fail2ban",
  "discussion_thread": {
    "_id": "92490e55",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-06-06 00:04:26",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2892718464f1a12fb76",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/92490e55/",
  "ticket_num": 32,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-06-06 00:04:26"
},{
  "status": "closed-wont-fix",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "as subject says, bans got canceled before specified time, which is 24 hours in my configuration. I attach part of log:\r\n\r\n2008-05-31 11:40:00,957 fail2ban.actions: WARNING \\[ssh\\] Ban 58.40.157.78\r\n2008-05-31 14:38:45,961 fail2ban.actions: WARNING \\[ssh\\] Ban 211.254.95.49\r\n2008-05-31 18:25:07,183 fail2ban.actions: WARNING \\[ssh\\] Ban 59.106.12.179\r\n2008-05-31 21:42:10,283 fail2ban.actions: WARNING \\[ssh\\] Ban 201.6.104.93\r\n2008-06-01 01:18:10,439 fail2ban.actions: WARNING \\[ssh\\] Ban 211.200.94.26\r\n2008-06-01 06:25:45,087 fail2ban.actions: WARNING \\[ssh\\] Unban 58.40.157.78\r\n2008-06-01 06:25:45,140 fail2ban.actions: WARNING \\[ssh\\] Unban 211.254.95.49\r\n2008-06-01 06:25:45,413 fail2ban.actions: WARNING \\[ssh\\] Unban 59.106.12.179\r\n2008-06-01 06:25:45,608 fail2ban.actions: WARNING \\[ssh\\] Unban 201.6.104.93\r\n2008-06-01 06:25:45,659 fail2ban.actions: WARNING \\[ssh\\] Unban 211.200.94.26\r\n\r\nfail2ban version 0.7.5-2etch1\r\n\r\nI found nothing special but logrotating happened around that time. In case you need more logs please e-mail me to jan\\[at\\]potuznik\\[dot\\]cz if you need faster response\r\n\r\nmoreover bans get canceled at system restart is it normal?\r\n\r\nthanks munin for all that info :\\)",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "bans canceled before specified time",
  "discussion_thread": {
    "_id": "14cf4365",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nHi,\r\n\r\nThat's definitely a restart issue. Currently, banned hosts are unbanned when fail2ban restarts or shutdowns. This is a \"feature\" not a bug \\(highly subjective I know\\). Fail2ban 0.9-0.10 will probably support this.\r\n\r\nRegards,",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-16 20:30:31",
        "slug": "cf92",
        "subject": "#33 bans canceled before specified time"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> open-wont-fix",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-16 20:30:31",
        "slug": "17cc",
        "subject": "#33 bans canceled before specified time"
      },
      {
        "text": "- **status**: open-wont-fix --> closed-wont-fix",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-16 20:31:28",
        "slug": "c1da",
        "subject": "#33 bans canceled before specified time"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-07-16 20:31:28",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2892718464f1a12fb7d",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/14cf4365/",
  "ticket_num": 33,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-06-12 15:21:00"
},{
  "status": "open",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "When logtarget=SYSLOG is used, the syslog entries have a format that is incompatible with the \"rest of the world\". In the following syslog line\r\n\r\nJun 15 11:14:19 bear 2008-06-15 11:14:19,364 fail2ban.server : INFO   Exiting Fail2ban\r\n\r\nthere is a double timestamp and the loglevel shoud follow the host name. A small change in fail2ban's log format fixes this.\r\n\r\nRegards,\r\nJ\u00f6rg Sommrey\r\n\r\njo@sommrey.de",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "SYSLOG entry format incorrect",
  "discussion_thread": {
    "_id": "74fa6059",
    "posts": [
      {
        "text": "syslog format patch",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/74fa6059/378d/attachment/fail2ban-syslog.patch",
            "bytes": 713
          }
        ],
        "author": "nobody",
        "timestamp": "2008-06-15 11:01:39",
        "slug": "378d",
        "subject": "#34 SYSLOG entry format incorrect"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-06-15 11:01:39",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf28a2718464f1a12fb93",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/74fa6059/",
  "ticket_num": 34,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-06-15 11:01:39"
},{
  "status": "open",
  "reported_by_id": "5074d450bfc09e08ccc81aaa",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "keesb",
  "description": "Since update 0.8.2 the PID file \\(and sock\\) has been placed in the directory /var/run/fail2ban/. That's OK.\r\n\r\nHowever, it would be better \\(if you ask me\\) if the fail2ban-server created that directory if it does not exist. Right now it fails and quits if the directory is not present. That is a Bad Thing. It may happen unnoticed.\r\n\r\nThere is an alternative \\(adding the mkdir in the init script\\), but that means each distribution has to take care of it. And users will have to wait till the distribution maintainer becomes aware of this problem. It takes too long. \\(For example, Ubuntu has a problem for several months now, and there is no sign of a fix.\\)\r\n\r\nNote, that the directory /var/run/fail2ban can be deleted on some systems \\(I think the logrotate process could cause it.\\) From fail2ban point of view it may seems like someone else's problem, but creating the directory in server/server.py makes it more failsafe.\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Directory /var/run/fail2ban should be created",
  "discussion_thread": {
    "_id": "0ac93f13",
    "posts": [
      {
        "text": "For our OS X package, we simply patched the 'fail2ban-client' script to crate the directory if needed rather then rely on the init entry \\(launchd\\) to handle it - it's not elegant for launchd to be looking for and creating pid run directories. ",
        "attachments": [],
        "author": "cdgrieb",
        "timestamp": "2009-02-24 14:39:12",
        "slug": "da42",
        "subject": "#35 Directory /var/run/fail2ban should be created"
      },
      {
        "text": "For our OS X package, we simply patched the 'fail2ban-client' script to crate the directory if needed rather then rely on the init entry \\(launchd\\) to handle it - it's not elegant for launchd to be looking for and creating pid run directories. ",
        "attachments": [],
        "author": "cdgrieb",
        "timestamp": "2009-02-24 14:39:36",
        "slug": "d8fe",
        "subject": "#35 Directory /var/run/fail2ban should be created"
      },
      {
        "text": "For our OS X package, we simply patched the 'fail2ban-client' script to crate the directory if needed rather then rely on the init entry \\(launchd\\) to handle it - it's not elegant for launchd to be looking for and creating pid run directories. ",
        "attachments": [],
        "author": "cdgrieb",
        "timestamp": "2009-02-24 14:39:50",
        "slug": "e472",
        "subject": "#35 Directory /var/run/fail2ban should be created"
      },
      {
        "text": "For our OS X package, we simply patched the 'fail2ban-client' script to crate the directory if needed rather then rely on the init entry \\(launchd\\) to handle it - it's not elegant for launchd to be looking for and creating pid run directories. ",
        "attachments": [],
        "author": "cdgrieb",
        "timestamp": "2009-02-24 17:58:59",
        "slug": "03de",
        "subject": "#35 Directory /var/run/fail2ban should be created"
      },
      {
        "text": "For our OS X package, we simply patched the 'fail2ban-client' script to crate the directory if needed rather then rely on the init entry \\(launchd\\) to handle it - it's not elegant for launchd to be looking for and creating pid run directories. ",
        "attachments": [],
        "author": "cdgrieb",
        "timestamp": "2009-02-24 17:59:38",
        "slug": "4ad6",
        "subject": "#35 Directory /var/run/fail2ban should be created"
      },
      {
        "text": "I installed 0.8.4 and the bug still exists. What I did was create another /System/Library/LaunchDaemons plist whose command is 'mkdir /var/run/fail2ban' \n\nIt's set to run at load.",
        "attachments": [],
        "author": "afragen",
        "timestamp": "2009-09-24 23:01:42",
        "slug": "8e44",
        "subject": "#35 Directory /var/run/fail2ban should be created"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-07-08 09:17:43",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf28c2718464f1a12fba4",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/0ac93f13/",
  "ticket_num": 35,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-07-08 09:17:43"
},{
  "status": "closed-fixed",
  "reported_by_id": "51acf2912718464f1a12fbed",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "slider74",
  "description": "I am using fail2ban on CentOS5 and it works fine. The only thing, that I don't like - how the PID feature works.\r\n\r\nAfter some investigation I have found the following:\r\n1\\. Init script runs \"fail2ban-client start\"\r\n2\\. fail2ban-client starts fail2ban-server using server.py \\(class Server, method Init\\). This server provess creates pidfile in /var/run/fail2ban\r\n3\\. server.py-Init starts another server process using asyncserver.py \\(class AsyncServer, method Init\\). This process does not write his pid to the pidfile.\r\n\r\nThis last process is the main fail2ban deamon process which runs in system. Unfortunately it has different PID which does not match with one saved in pidfile.\r\n\r\nAs a quickfix I had to modify asyncserver.py with following patch:\r\n\r\n\\--- fail2ban-0.8.2/server/asyncserver.py.orig   2008-07-10 12:53:06.000000000 +0200\r\n+++ fail2ban-0.8.2/server/asyncserver.py        2008-07-10 13:31:33.000000000 +0200\r\n@@ -80,6 +80,8 @@ class RequestHandler\\(asynchat.async\\_chat\r\n\r\nclass AsyncServer\\(asyncore.dispatcher\\):\r\n\r\n\\+       PID\\_FILE = \"/var/run/fail2ban/fail2ban.pid\"\r\n\\+\r\ndef \\_\\_init\\_\\_\\(self, transmitter\\):\r\nasyncore.dispatcher.\\_\\_init\\_\\_\\(self\\)\r\nself.\\_\\_transmitter = transmitter\r\n@@ -128,6 +130,16 @@ class AsyncServer\\(asyncore.dispatcher\\):\r\nself.bind\\(sock\\)\r\nexcept Exception:\r\nraise AsyncServerException\\(\"Unable to bind socket %s\" % self.\\_\\_sock\\)\r\n\\+\r\n\\+                \\# Creates a PID file.\r\n\\+                try:\r\n\\+                        logSys.debug\\(\"Creating PID file %s\" % AsyncServer.PID\\_FILE\\)\r\n\\+                        pidFile = open\\(AsyncServer.PID\\_FILE, 'w'\\)\r\n\\+                        pidFile.write\\(\"%s\\n\" % os.getpid\\(\\)\\)\r\n\\+                        pidFile.close\\(\\)\r\n\\+                except IOError, e:\r\n\\+                        logSys.error\\(\"Unable to create PID file: %s\" % e\\)\r\n\\+\r\nself.listen\\(1\\)\r\n\\# Sets the init flag.\r\nself.\\_\\_init = True\r\n\r\n\r\nAfter this pidfile contains correct process PID. Could you please take a look at this fix?",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Wrong PID in /var/run/fail2bane/fail2ban.pid",
  "discussion_thread": {
    "_id": "639413b6",
    "posts": [
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nHi,\r\n\r\nThanks for the report. This is already fixed here:\r\n\r\nhttp://fail2ban.svn.sourceforge.net/viewvc/fail2ban?view=rev&revision=680\r\n\r\nI should definitely release 0.8.3 as soon as possible. So in the meanwhile, try the latest 0.8 branch from SVN.\r\n\r\nRegards",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-10 12:40:05",
        "slug": "d72e",
        "subject": "#36 Wrong PID in /var/run/fail2bane/fail2ban.pid"
      },
      {
        "text": "- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-10 12:40:05",
        "slug": "7a14",
        "subject": "#36 Wrong PID in /var/run/fail2bane/fail2ban.pid"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-07-10 12:40:05",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2912718464f1a12fbec",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/639413b6/",
  "ticket_num": 36,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-07-10 12:21:22"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "Used Version: fail2ban 0.8.2\r\nFor further informations contact me at speedy\\(dot\\)200\\[at\\]gmx\\(dot\\)de\r\n\r\nI tried to add a jail with the following time constraints:\r\nmaxRetry = 4\r\nfindtime = 20\r\nbanTime = 180\r\n\r\n\r\nIn words: The rule should ban users who access a host more than 4 times within 20 seconds. All hosts which access the host only 3 times within 20 seconds should not be banned.\r\nBut a user is although banned, if he accesses the host 4 time within 1minute and 27 seconds.\r\nObviously the parameter \"findtime\" does not work as it should do.\r\n\r\nIs there an undocumented minimal number of seconds for \"findtime\"?\r\n\r\nI've attached the full output from fail2ban log at the bottom where you can see that problem.\r\nHere it is in short:\r\n\\- 4 time in 20 seconds\r\n\\- accesses at 16:46:23,849  16:46:44,853  16:47:49,864   and 16:47:50,405\r\n\\- still banned\r\n=======================================================\r\n=======================================================\r\n2008-07-16 16:45:56,003 fail2ban.comm   : DEBUG  Command: \\['set', 'apache-trigger', 'addlogpath', '/var/log/httpd/access\\_log'\\]\r\n2008-07-16 16:45:56,033 fail2ban.comm   : DEBUG  Command: \\['set', 'apache-trigger', 'maxretry', '4'\\]\r\n2008-07-16 16:45:56,037 fail2ban.comm   : DEBUG  Command: \\['set', 'apache-trigger', 'addignoreip', '127.0.0.1'\\]\r\n2008-07-16 16:45:56,037 fail2ban.filter : DEBUG  Add 127.0.0.1 to ignore list\r\n2008-07-16 16:45:56,040 fail2ban.comm   : DEBUG  Command: \\['set', 'apache-trigger', 'findtime', '20'\\]\r\n2008-07-16 16:45:56,043 fail2ban.comm   : DEBUG  Command: \\['set', 'apache-trigger', 'bantime', '180'\\]\r\n...\r\n...\r\n...\r\niptables -I INPUT -p tcp --dport http -j fail2ban-TRIGGER returned successfully\r\n2008-07-16 16:46:23,849 fail2ban.filter : DEBUG  Found 134.106.XXX.XXX\r\n2008-07-16 16:46:44,853 fail2ban.filter : DEBUG  Found 134.106.XXX.XXX\r\n2008-07-16 16:47:10,858 fail2ban.filter : DEBUG  Found 134.106.XXX.XXX\r\n2008-07-16 16:47:49,864 fail2ban.filter : DEBUG  Found 134.106.XXX.XXX\r\n2008-07-16 16:47:50,405 fail2ban.actions: WARNING \\[apache-trigger\\] Ban 134.106.XXX.XXX\r\n\r\n=======================================================\r\n=======================================================\r\n\r\n\r\n",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "host is banned outside specified findtime",
  "discussion_thread": {
    "_id": "79bbdffa",
    "posts": [
      {
        "text": "Logfile",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/79bbdffa/a944/attachment/fail2ban-bug.log",
            "bytes": 7260
          }
        ],
        "author": "nobody",
        "timestamp": "2008-07-16 16:41:40",
        "slug": "a944",
        "subject": "#37 host is banned outside specified findtime"
      },
      {
        "text": "Logged In: YES \nuser\\_id=933467\nOriginator: NO\n\nHi,\r\n\r\nYou are right. \"findtime\" is not really what it should be. Please have a look at this thread:\r\n\r\nhttp://sourceforge.net/mailarchive/message.php?msg\\_id=47A8D9AF.1090900%40fail2ban.org\r\n\r\nI will implement this correctly in 0.9-0.10. Thanks.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-16 20:42:08",
        "slug": "15db",
        "subject": "#37 host is banned outside specified findtime"
      },
      {
        "text": "- **status**: open --> open-remind",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2008-07-16 20:42:08",
        "slug": "b62e",
        "subject": "#37 host is banned outside specified findtime"
      },
      {
        "text": "Logged In: NO \n\nHi, \r\nthank you for te answer and the link to the mailinglist.\r\nBut the behaviour described in the thread doesn't work either\\!\r\n\r\nAccording to the example:\r\n10:00:00 -&gt; match detected -&gt; counter = 1\r\n10:00:10 -&gt; match detected -&gt; counter = 1\r\n10:00:12 -&gt; match detected -&gt; counter = 2\r\n\r\nthe host in my example should NOT have been banned either, because between every match were more than 20 seconds:\r\n2008-07-16 16:46:23,849 DEBUG Found 134.106.XXX.XXX -&gt; counter = 1\r\n2008-07-16 16:46:44,853 DEBUG Found 134.106.XXX.XXX -&gt; counter = 1\r\n2008-07-16 16:47:10,858 DEBUG Found 134.106.XXX.XXX -&gt; counter = 1\r\n2008-07-16 16:47:49,864 DEBUG Found 134.106.XXX.XXX -&gt; counter = 1\r\n2008-07-16 16:47:50,405 WARNING \\[apache-trigger\\] Ban 134.106.XXX.XXX  -&gt; with counter = 1\r\n\r\nAnother example with \"findTime = 60\" and \"maxRetry = 6\"\r\n\r\n2008-07-17 14:02:35,854 DEBUG Found 134.106.XXX.XXX -&gt; counter = 1\r\n2008-07-17 14:02:39,963 DEBUG Found 134.106.XXX.XXX -&gt; counter = 2\r\n2008-07-17 14:02:42,867 DEBUG Found 134.106.XXX.XXX -&gt; counter = 3\r\n2008-07-17 14:02:04,514 DEBUG Found 134.106.XXX.XXX -&gt; counter = 4\r\n2008-07-17 14:02:45,884 DEBUG Found 134.106.XXX.XXX -&gt; counter = 5\r\n2008-07-17 14:05:28,964 DEBUG Found 134.106.XXX.XXX -&gt; counter = 1 \\(SHOULD BE\\!\\!\\!\\)\r\n2008-07-17 14:05:30,350 WARNING \\[apache-trigger\\] Ban 134.106.XXX.XXX\r\n\r\nYou're right: \" \"findtime\" is not really what it should be\" \\(but it is also NOT what it is expected to be at the moment\\!\\)\r\n\r\nKind regards\\!\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2008-07-17 12:10:27",
        "slug": "0e6b",
        "subject": "#37 host is banned outside specified findtime"
      },
      {
        "text": "Logged In: NO \n\nI did some further test with the new release 0.8.3\r\n\r\nIt seems to me, that fail2ban takes absolutely no account for any time \"findtime\" interval.\r\n\r\nI configured three different rules and specified no \"findtime\" so that the default value \\(600\\) is used. But according to my logfile the counter for a filter is only resetted, when a host is banned/unbanned\r\nThe counter is definitely NOT set to zero if no match is found within \"findtime\". Can anyone confirm that please?\r\n\r\nHow to check:\r\nSet no \"findtime\" in jail.conf and set \"maxretry\" for your filter e.g. to 10. Call the corresponding Filter 9 times \\(9 calls to website or 9 times a wrong login to ssh\\) and wait then MORE than 10 minutes. Try again 1 or 2 times. If you are banned my assumption is right, otherwise it sucks.\r\n\r\nKind Regards.\r\n\r\n\r\n\r\n",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2008-07-21 09:39:11",
        "slug": "2039",
        "subject": "#37 host is banned outside specified findtime"
      },
      {
        "text": "Hopefully fixed in trunk. Thanks to Christos Psonis for the original patch. Will be in 0.8.4.\r\n\r\nhttp://fail2ban.svn.sourceforge.net/viewvc/fail2ban?view=rev&revision=731",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-02-09 22:16:18",
        "slug": "ad06",
        "subject": "#37 host is banned outside specified findtime"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open-remind --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-02-09 22:16:18",
        "slug": "3090",
        "subject": "#37 host is banned outside specified findtime"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-02-09 22:16:18",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2992718464f1a12fc1b",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/79bbdffa/",
  "ticket_num": 37,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-07-16 16:41:40"
},{
  "status": "open",
  "reported_by_id": "509cd41a2718461793e41c13",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "murznn",
  "description": "I have using fail2ban version 0.8.3-1 on Debian Lenny\r\nI have a rule in jail.conf:\r\n\r\n\\[apache-lotofpost\\]\r\nenabled = true\r\nport    = http,https\r\nfilter  = apache-lotofpost\r\nlogpath = /home/\\*/logs/access\\_log\r\nmaxretry = 5\r\nbanaction = mail-whois-lines\r\n\r\nAnd in mail I see this:\r\nLines containing IP:xx.xx.xx.xx in /dev/null\r\n\r\nWhy I see '/dev/null' as logpath in action.d script?",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "Wrong <logpath> in action.d/mail-whois-lines.conf",
  "discussion_thread": {
    "_id": "5adc6fbd",
    "posts": [
      {
        "text": "File /etc/fail2ban/filter.d/apache-lotofpost.conf contains:\r\n\r\n\\[Definition\\]\r\nfailregex = ^&lt;HOST&gt; - .+\"POST\\s\r\nignoreregex =",
        "attachments": [],
        "author": "murznn",
        "timestamp": "2009-01-23 06:50:02",
        "slug": "88d8",
        "subject": "#40 Wrong <logpath> in action.d/mail-whois-lines.conf"
      },
      {
        "text": "You need to specify the \"logpath\" for the mail-whois-lines action. Your jail should look like:\r\n\r\n\\[apache-lotofpost\\]\r\nenabled = true\r\nport = http,https\r\nfilter = apache-lotofpost\r\nlogpath = /home/\\*/logs/access\\_log\r\nmaxretry = 5\r\nbanaction = mail-whois-lines\\[logpath=/home/\\*/logs/access\\_log\\]\r\n\r\nHope it works. Regards.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-01-27 23:12:48",
        "slug": "4404",
        "subject": "#40 Wrong <logpath> in action.d/mail-whois-lines.conf"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-01-27 23:12:48",
        "slug": "fe4f",
        "subject": "#40 Wrong <logpath> in action.d/mail-whois-lines.conf"
      },
      {
        "text": "It helps, but I see the additional suffix in mail reports and bad rule name.\nI add this string to jail.conf, at end of this file now:\n\\[apache-lotofpost\\]\nenabled = true\nport    = http,https\nfilter  = apache-lotofpost\nlogpath = /home/\\*/logs/access\\_log\n\\#findtime = 86400\nfindtime = 60\nmaxretry = 2\nbanaction = mail-whois-lines\\[logpath=/home/\\*/logs/access\\_log\\]\n\n&lt;end of file&gt;\n\nBut in email I see:\nSubject: \\[Fail2Ban\\] default: banned 92.255.239.62\n\\--------------\nThe IP 92.255.239.62 has just been banned by Fail2Ban after\n2 attempts against default.\n....\n....\n....\nLines containing IP:92.255.239.62 in /home/\\*/logs/access\\_log\\]\\[name\n\n\nRegards,\n\nFail2Ban\n\\--------------\nWhere it gets '\\]\\[name' suffix for grep? and why the name of filter is 'default'?\n\nIf I remove the '\\[logpath=/home/\\*/logs/access\\_log\\]' from jail.conf - all works good, the name sets to \"apache-lotofpost\" but logpath sets to /dev/null\n\nI use fail2ban 0.8.3-1 from Debian Lenny at Linux 2.6.26-1-amd64.",
        "attachments": [],
        "author": "murznn",
        "timestamp": "2009-01-28 11:02:14",
        "slug": "6c64",
        "subject": "#40 Wrong <logpath> in action.d/mail-whois-lines.conf"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-01-27 23:12:48",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2a02718464f1a12fc62",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/5adc6fbd/",
  "ticket_num": 40,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-01-21 11:33:24"
},{
  "status": "open",
  "reported_by_id": "4f5797171be1ce2e7900032d",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "goeran",
  "description": "The open file descriptor to the fail2ban socket is not closed on exec.  On Fedora, that is discovered by SELinux which reports that the \"sendmail\" and \"iptables\" commands are not allowed to access the fail2ban type socket.\r\n\r\nI looked a bit in the code and I see that when filters are opened, the file descriptors are set to CLOEXEC.  But the same thing does not seem to happen when the socket is opened.  As far as I can understand, that file descriptor too should be CLOEXEC.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Socket file descriptors leaked",
  "discussion_thread": {
    "_id": "d09fe8a2",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2008-09-01 10:29:20",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf29d2718464f1a12fc4a",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/d09fe8a2/",
  "ticket_num": 38,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2008-09-01 10:29:20"
},{
  "status": "closed-fixed",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "I am using rsyslog and recently switched to its high-precision timestamp format, which based on ISO8601 \\(with timezone information, my timezone is +01:00\\). Fail2ban stopped banning anything after the switch.\r\n\r\nFail2ban seems to recognize the dates, but mis-calculates the timezone and thinks the logged lines are from an hour ago.\r\n\r\nA quick and dirty fix is to change \"utctimetuple\" to \"timetuple\" at the end of datetemplate.py, but this might lead to problems during the DST =&gt; non-DST transition. The clean fix would probably be to make the getDate methods return a unix-timestamp, then there wouldn't be any need to mess around with local time.",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "ISO8601 dates not working correctly",
  "discussion_thread": {
    "_id": "52ef327b",
    "posts": [
      {
        "text": "Changed utctimetuple to timetuple. Need more testing as this is maybe not a 100% correct fix. Fix will be in 0.8.4.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-02-08 19:52:01",
        "slug": "e17a",
        "subject": "#39 ISO8601 dates not working correctly"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-02-08 19:52:01",
        "slug": "81aa",
        "subject": "#39 ISO8601 dates not working correctly"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-02-08 19:52:01",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf29e2718464f1a12fc51",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/52ef327b/",
  "ticket_num": 39,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-01-12 00:56:28"
},{
  "status": "closed-wont-fix",
  "reported_by_id": "50567a0871b75b3c3a982f60",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "zanoman",
  "description": "to track VPN login attempts, the only log we have is in /var/log/messages and is multilined:\r\nJan 27 07:50:22 server pppd\\[6458\\]: No CHAP secret found for authenticating admin\r\nJan 27 07:50:22 server pppd\\[6458\\]: Peer admin failed CHAP authentication\r\nJan 27 07:50:23 server pppd\\[6458\\]: Connection terminated.\r\nJan 27 07:50:23 server pppd\\[6458\\]: Exit.\r\nJan 27 07:50:23 server pptpd\\[6457\\]: GRE: read\\(fd=6,buffer=8059680,len=8196\\) from PTY failed: status = -1 error = Input/output error, usually caused by unexpected termination of pppd, check option syntax and pppd logs\r\nJan 27 07:50:23 server pptpd\\[6457\\]: CTRL: PTY read or GRE write failed \\(pty,gre\\)=\\(6,7\\)\r\nJan 27 07:50:23 server pptpd\\[6457\\]: CTRL: Client 1.2.3.4 control connection finished\r\n\r\nI tried a filter:\r\nfailregex = No CHAP secret found for authenticating .+?\\n.+?\\n.+?\\n.+?\\n.+?\\n.+?\\n.+?\\n.+? CTRL: Client &lt;HOST&gt; control connection finished\r\n\r\nor\r\nfailregex = No CHAP secret found for authenticating .+?CTRL: Client &lt;HOST&gt; control connection finished\r\n\r\nbut it doesn't work.\r\nAny idea?",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "regex on multiple lines",
  "discussion_thread": {
    "_id": "054fc0da",
    "posts": [
      {
        "text": "Fail2ban needs all data on the same line \\(timestamp, host address, etc\\). Multi-line is not supported at the moment. There is already a feature request for this.\r\n\r\nThank you.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-01-27 23:06:17",
        "slug": "a0cd",
        "subject": "#41 regex on multiple lines"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> closed-wont-fix",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-01-27 23:06:17",
        "slug": "41c6",
        "subject": "#41 regex on multiple lines"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-01-27 23:06:17",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2a32718464f1a12fc7f",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/054fc0da/",
  "ticket_num": 41,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-01-27 16:52:26"
},{
  "status": "open",
  "reported_by_id": null,
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "*anonymous",
  "description": "When fail2ban whois an IP address, it is still awaiting a reply.\r\n\r\nIf there is no answer \\(timeout or bad ip\\), fail2ban is blocked and the system load rises indefinitely. In addition, fail2ban ceases to act on new attacks.\r\n\r\nAfter some time, the server may crash \\(too many attack or load too high\\).\r\n\r\nHackers could use this issue to attack servers using an IP address that is not in the Whois database for example.\r\n\r\nfail2ban should have a timeout \\(one minute\\) in case of no response from the whois.\r\n\r\nThank you.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Whois timeout",
  "discussion_thread": {
    "_id": "c89b297b",
    "posts": [
      {
        "text": "I've been bitten by this bug too; the whois command \\(jwhois 4.0, on fedora 12\\) sometimes hangs forever, and fail2ban hangs waiting for whois.  This only occurs when action = sendmail-whois-lines, as the default is not to call whois.\n\nAs a result, ssh attacks are not blocked until root types 'killall whois' or reboots.",
        "attachments": [],
        "author": "pfudd",
        "timestamp": "2010-06-08 16:29:35",
        "slug": "f618",
        "subject": "#42 Whois timeout"
      },
      {
        "text": "This occurs fairly often for me as well. If I see the fail2ban emails stop coming for a day, I can be very certain that whois is hanging and I need to log in and kill it.",
        "attachments": [],
        "author": "series8217",
        "timestamp": "2010-06-15 16:39:12",
        "slug": "1fe1",
        "subject": "#42 Whois timeout"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-04-11 11:47:55",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2a52718464f1a12fc90",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/c89b297b/",
  "ticket_num": 42,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-04-11 11:47:55"
},{
  "status": "open",
  "reported_by_id": "50ffdceb34309d12c204d9dd",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "ricks03",
  "description": "Currently running 0.8.3 on centos. configured as per the instructions for logrotate and starting as a service. Generally works great \\(what a brilliant idea\\). \r\n\r\nThe event is configured in jail.conf:\r\n\\[postfix\\]\r\n\\# These are spam hits\r\nenabled  = true\r\nfilter   = postfix\r\naction   = iptables\\[name=postfix, port=smtp, protocol=tcp\\]\r\nsendmail-whois-mail\\[name=Agencymail-Spam, dest=ishelp@invtitle.com, sender=postmaster@\r\nlogpath  = /var/log/maillog\r\nmaxretry = 10\r\nbantime = -1\r\nfindtime = 1200\r\nignoreip = 127.0.0.1\r\n\r\nEvents in the log ban perfectly. However, with bantime=-1 items should be blocked forever \\(ppesuming I don't restart fail2ban OFC\\). However, when logrotate\r\nruns at 4:02 AM, I get back \r\n2009-04-12 04:02:19,097 fail2ban.actions: WARNING \\[postfix\\] Unban 72.51.9.232\r\n2009-04-12 04:02:19,126 fail2ban.actions: WARNING \\[postfix\\] Unban 195.5.186.254\r\n\r\nI think I see why, as the instructions say:\r\n/var/log/fail2ban.log \\{\r\nweekly\r\nrotate 7\r\nmissingok\r\ncompress\r\npostrotate\r\n/usr/bin/fail2ban-client reload 1&gt;/dev/null || true\r\nendscript\r\n\\}\r\n\r\nwhich restarts the client. But with bantime=-1 should logrotate really reset the ban'd items?",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "logrotate defeats bantime=-1",
  "discussion_thread": {
    "_id": "5f384b66",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-04-13 01:55:03",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2a82718464f1a12fca5",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/5f384b66/",
  "ticket_num": 43,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-04-13 01:55:03"
},{
  "status": "open-fixed",
  "reported_by_id": "517978c1e88f3d77c19e09c6",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "jdoupnik",
  "description": "Fail2ban v0.8.3 on openSUSE 11.1 x86\\_64. \r\nLog file shows communication errors, lock file is not dealt with. \r\nUpon shutting down fail2ban the log shows this traceback:\r\n\r\nExiting Fail2ban\r\ncannot release un-aquired lock\r\nTraceback \\(most recent call last\\):\r\nFile \"/usr/local/bin/fail2ban-server\", line 126, in start\r\nself.\\_\\_server.start\\(self.\\_\\_conf\\[\"socket\"\\], self.\\_\\_conf\\[\"force\"\\]\\)\r\nFile \"/usr/share/fail2ban/server/server.py\", line 98, in start\r\nlogSys.info\\(\"Exiting Fail2ban\"\\)\r\nFile \"/usr/lib64/python2.6/logging/\\_\\_init\\_\\_.py\", line 1021, in info\r\nself.\\_log\\(INFO, msg, args, \\*\\*kwargs\\)\r\nFile \"/usr/lib64/python2.6/logging/\\_\\_init\\_\\_.py\", line 1129, in \\_log\r\nself.handle\\(record\\)\r\nFile \"/usr/lib64/python2.6/logging/\\_\\_init\\_\\_.py\", line 1139, in handle\r\nself.callHandlers\\(record\\)\r\nFile \"/usr/lib64/python2.6/logging/\\_\\_init\\_\\_.py\", line 1176, in callHandlers\r\nhdlr.handle\\(record\\)\r\nFile \"/usr/lib64/python2.6/logging/\\_\\_init\\_\\_.py\", line 664, in handle\r\nself.release\\(\\)\r\nFile \"/usr/lib64/python2.6/logging/\\_\\_init\\_\\_.py\", line 618, in release\r\nself.lock.release\\(\\)\r\nFile \"/usr/lib64/python2.6/threading.py\", line 136, in release\r\nraise RuntimeError\\(\"cannot release un-aquired lock\"\\)\r\nRuntimeError: cannot release un-aquired lock\r\n\r\n\r\nWhen starting fail2ban the log shows this kind of material:\r\n\r\n2009-04-19 14:16:54,569 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,569 fail2ban.jail   : INFO   Creating new jail 'ssh-iptables'\r\n2009-04-19 14:16:54,570 fail2ban.jail   : INFO   Jail 'ssh-iptables' uses poller\r\n2009-04-19 14:16:54,580 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,580 fail2ban.filter : INFO   Added logfile = /var/log/messages\r\n2009-04-19 14:16:54,580 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,580 fail2ban.filter : INFO   Set maxRetry = 3\r\n2009-04-19 14:16:54,581 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,581 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,581 fail2ban.filter : INFO   Set findtime = 3600\r\n2009-04-19 14:16:54,582 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,582 fail2ban.actions: INFO   Set banTime = 600\r\n2009-04-19 14:16:54,582 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,585 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,588 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,590 fail2ban.server : ERROR  Unexpected communication error\r\n2009-04-19 14:16:54,594 fail2ban.server : ERROR  Unexpected communication error\r\n\r\nWhen running we have:\r\n\r\n\\# cd /var/run\r\n\\# ls -lR fail2ban\r\nfail2ban:\r\ntotal 4\r\n-rw------- 1 root root 6 Apr 19 14:16 fail2ban.pid\r\nsrwx------ 1 root root 0 Apr 19 14:16 fail2ban.sock\r\n\\#                                                                   \r\nwhich is proper to my eye.\r\n\r\nI run fail2ban on various SLES systems without this problem.\r\nJoe Doupnik\r\njrd@netlab1.oucs.ox.ac.uk",
  "labels": [],
  "assigned_to": "buanzo",
  "assigned_to_id": "513a168ee88f3d626f00912a",
  "private": false,
  "summary": "v0.8.3 on openSUSE 11.1/64 fails on a lock",
  "discussion_thread": {
    "_id": "657a1075",
    "posts": [
      {
        "text": "Hi.\n\nGot exactly the same problem on up to date arch linux \\(2009-04-24, Fail2ban v0.8.3\\).\n\nThe start and stop commands tells that all is ok, but brute-force attacks are not jailed.\n\nmy Python default version is 2.6.1 compiled with gcc 4.3.2 \\(python 3.0 is installed but needs a specific call\\)\n\nmiq75",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2009-04-24 15:09:22",
        "slug": "48a1",
        "subject": "#44 v0.8.3 on openSUSE 11.1/64 fails on a lock"
      },
      {
        "text": "Same problem on Fedora 11 with Fail2ban v0.8.3. \n\nThis seems to be a problem with python 2.6. On Fedora 10 \\(with python 2.5\\) everything is working fine. Therefore all current releases of various distributions \\(Fedora, SuSE, Ubuntu, ...\\) will be affected due to the version of python \\(they all use python 2.6, and in the near future probably python 3.x\\). \n\nThus the priority of this bug report should be higher I think ... it would be nice if someone could fix it ;-\\)\n\nHere are some interesting links:\nhttps://bugzilla.redhat.com/show\\_bug.cgi?id=508171\nhttps://bugs.launchpad.net/ubuntu/+source/fail2ban/+bug/372304\n\nRegards,\nLeo",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2009-07-16 09:48:25",
        "slug": "a734",
        "subject": "#44 v0.8.3 on openSUSE 11.1/64 fails on a lock"
      },
      {
        "text": "I'm now working on this bug. Please contact me if you can assist in testing/debugging.",
        "attachments": [],
        "author": "buanzo",
        "timestamp": "2009-08-28 22:49:11",
        "slug": "2035",
        "subject": "#44 v0.8.3 on openSUSE 11.1/64 fails on a lock"
      },
      {
        "text": "- **assigned_to**: nobody --> buanzo",
        "attachments": [],
        "author": "buanzo",
        "timestamp": "2009-08-28 22:49:12",
        "slug": "d486",
        "subject": "#44 v0.8.3 on openSUSE 11.1/64 fails on a lock"
      },
      {
        "text": "I have successfully tested the nightly build \\[01-Sep-2009 03:01\\] of fail2ban with the patches for python 2.6 on\n\n\\- Fedora 11\n\\- CentOS 5.3\n\\- Debian 5.0 \"lenny\"\n\\- openSUSE 11.1\n\n\\(all four systems up-to-date, i.e. with the most recent updates installed\\)\n\nEverything is working fine with all of them :-\\) You can get the latest nightly build from http://www.fail2ban.org/nightly/\n\nThank you very much for your great work, Buanzo\\!\n\nRegards,\nLeo  ",
        "attachments": [],
        "author": "nobody",
        "timestamp": "2009-09-01 15:56:49",
        "slug": "55da",
        "subject": "#44 v0.8.3 on openSUSE 11.1/64 fails on a lock"
      },
      {
        "text": "- **status**: open --> open-fixed",
        "attachments": [],
        "author": "buanzo",
        "timestamp": "2009-09-01 16:05:58",
        "slug": "b3d7",
        "subject": "#44 v0.8.3 on openSUSE 11.1/64 fails on a lock"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-09-01 16:05:58",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2a92718464f1a12fcac",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/657a1075/",
  "ticket_num": 44,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-04-19 13:41:23"
},{
  "status": "closed-fixed",
  "reported_by_id": "503b72fdfd48f843173da270",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "jikamens",
  "description": "Fail2ban 0.8.3 detects log rotation by noticing that the first line of the log file has changed.\r\n\r\nUnfortunately, this doesn't work reliably on systems that use rsyslog, when there is for whatever reason some process regularly sending a HUP signal to rsyslog, because the messages that rsyslog logs when it is HUP'd are not timestamped, which means that it's entirely possible for the first time of the new log file to be the same as the first line as the last one.\r\n\r\nMore generally, the assumption that all log file lines are timestamped and therefore that the first line of the new log file will always differ from the first line of the old one is invalid.\r\n\r\nThis could lead to banning not happening when it should \\(and, indeed, it did lead to exactly this on my system\\).\r\n\r\nThe attached patch fixes this by checking the inode number for rotation in addition to checking the first line of the file.\r\n",
  "labels": [],
  "assigned_to": "lostcontrol",
  "assigned_to_id": "4e8a1d76b9363c20cf000dcf",
  "private": false,
  "summary": "fail2ban fails to notice log rotation because of rsyslog",
  "discussion_thread": {
    "_id": "ca9a8890",
    "posts": [
      {
        "text": "patch to check inode as well as first line for log rotation",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/ca9a8890/f194/attachment/fail2ban-0.8.3-log-rotation.patch",
            "bytes": 1178
          }
        ],
        "author": "jikamens",
        "timestamp": "2009-06-03 01:19:16",
        "slug": "f194",
        "subject": "#45 fail2ban fails to notice log rotation because of rsyslog"
      },
      {
        "text": "Patch committed. Fix will be in 0.8.4.",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-09-01 21:27:29",
        "slug": "8c5e",
        "subject": "#45 fail2ban fails to notice log rotation because of rsyslog"
      },
      {
        "text": "- **assigned_to**: nobody --> lostcontrol\n- **status**: open --> closed-fixed",
        "attachments": [],
        "author": "lostcontrol",
        "timestamp": "2009-09-01 21:27:30",
        "slug": "206a",
        "subject": "#45 fail2ban fails to notice log rotation because of rsyslog"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-09-01 21:27:30",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2ae2718464f1a12fcd3",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/ca9a8890/",
  "ticket_num": 45,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-06-03 01:19:12"
},{
  "status": "open",
  "reported_by_id": "51507997e88f3d0ac7608169",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "mgabriel",
  "description": "If fail2ban parses a log \\(e.g. pure-ftpd\\) where the hostname of the attacker is enclosed in brackets like \"\\(hostname.domain.tld\\)\", it fails. In the fail2ban.log, you can see the following error:\r\n\r\n2009-07-16 07:51:15,598 fail2ban.filter : WARNING Unable to find a corresponding IP address for ns10.hostinglmi.net\\)\r\n\r\nIt seems, that the closing bracket is kept as the hostname, which indeed fails.\r\nI checked this on ubuntu 8.04 with a pure-ftpd filter which was already installed. I found occurrences in the net where this error also happens on apache logs.\r\n\r\nI fixed it in the filter.py by replacing the \"\\)\" with \"\". But I guess it's possible to fix it with a change of the &lt;HOST&gt; substitution regex.\r\n\r\nsee also: http://www.fail2ban.org/wiki/index.php/Fail2ban:Community\\_Portal\\#pure-ftpd\\_and\\_apache\\_ban\\_fails\\_with\\_DNS\\_error\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "<HOST> regex fails if hostname is in brackets \"()\"",
  "discussion_thread": {
    "_id": "d336a3b5",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-07-16 11:46:14",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2b22718464f1a12fcef",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/d336a3b5/",
  "ticket_num": 46,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-07-16 11:46:14"
},{
  "status": "open",
  "reported_by_id": "503b72fdfd48f843173da270",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "jikamens",
  "description": "I am getting this on a somewhat regular basis in my logs:\r\n\r\nSep 30 06:52:50 jik2 fail2ban.actions: WARNING \\[ssh-iptables\\] Ban 60.190.176.116\r\nSep 30 06:52:50 jik2 fail2ban.actions.action: ERROR  iptables -n -L INPUT | grep -q fail2ban-SSH returned 100\r\nSep 30 06:52:50 jik2 fail2ban.actions.action: ERROR  Invariant check failed. Trying to restore a sane environment\r\nSep 30 06:52:50 jik2 fail2ban.actions.action: ERROR  iptables -D INPUT -p tcp --dport ssh -j fail2ban-SSH\\#012iptables -F fail2ban-SSH\\#012iptables -X fail2ban-SSH returned 100\r\nSep 30 07:02:51 jik2 fail2ban.actions: WARNING \\[ssh-iptables\\] Unban 60.190.176.116\r\n\r\nI'm not certain, but I think it might happen only the first time fail2ban tries to ban somebody after it starts up.\r\n\r\nI have fail2ban 0.8.4.\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "ERROR  Invariant check failed. Trying to restore a sane envi",
  "discussion_thread": {
    "_id": "99580c9f",
    "posts": [
      {
        "text": "I have the same problem sometimes. It seems if you have a lot of jails \\(I have 6\\), there is a race condition of some kind between fail2ban and iptables that causes the\n\niptables -I INPUT... -j fail2ban-&lt;name&gt;\n\nto fail because it executes before the\n\niptables -N fail2ban-&lt;name&gt;\niptables -A fail2ban-&lt;name&gt; -j RETURN\n\nhave fully completed. I have worked around this with the following in /etc/fail2ban/action.d/iptables-allports.local \\(iptables-allports is the only action I use\\)\n\n\\[Definition\\]\n\\# add a sleep to try to avoid apparent race in iptables\n\\#\nactionstart = iptables -N fail2ban-&lt;name&gt;\niptables -A fail2ban-&lt;name&gt; -j RETURN\nsleep 1\niptables -I INPUT -p &lt;protocol&gt; -j fail2ban-&lt;name&gt;\n",
        "attachments": [],
        "author": "msapiro",
        "timestamp": "2009-10-10 01:04:19",
        "slug": "6ec0",
        "subject": "#47 ERROR  Invariant check failed. Trying to restore a sane envi"
      },
      {
        "text": "In the previous comment, the lines following \"actionstart =\" should be indented \\(my leading spaces were stripped\\).",
        "attachments": [],
        "author": "msapiro",
        "timestamp": "2009-10-10 01:10:22",
        "slug": "3500",
        "subject": "#47 ERROR  Invariant check failed. Trying to restore a sane envi"
      },
      {
        "text": "Also, see the patch at\nhttps://sourceforge.net/tracker/?func=detail&aid=2857096&group\\_id=121032&atid=689046\nwhich I believe addresses this",
        "attachments": [],
        "author": "msapiro",
        "timestamp": "2009-10-10 01:21:07",
        "slug": "7e11",
        "subject": "#47 ERROR  Invariant check failed. Trying to restore a sane envi"
      },
      {
        "text": "Fixed sleep in all jails would not resolve the issue reliably: you have to use variable duration for sleep.\nIf you have bash for your shell -- add \n\nsleep $\\{RANDOM:0:1\\}.$\\{RANDOM: -1:1\\}\n\nat the beginning of actionstart/actionstop\n\nSee http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=554162  for more information",
        "attachments": [],
        "author": "yarikoptic",
        "timestamp": "2009-11-11 13:45:33",
        "slug": "243b",
        "subject": "#47 ERROR  Invariant check failed. Trying to restore a sane envi"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-09-30 14:40:40",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2b42718464f1a12fcf6",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/99580c9f/",
  "ticket_num": 47,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-09-30 14:40:40"
},{
  "status": "open",
  "reported_by_id": "4fb32ede1be1ce76a00000ac",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "msapiro",
  "description": "Support for the banip command is the new addBannedIP method of the Filter class in server/filter.py. This method sets unixTime = time.time\\(\\) without importing time. It should probably set unixTime = MyTime.time\\(\\) instead.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "New fail2ban-client set <JAIL> banip <IP> doesn't work.",
  "discussion_thread": {
    "_id": "3a0b54e4",
    "posts": [
      {
        "text": "I made the suggested change above, replacing unixTime = time.time\\(\\) with unixTime = MyTime.time\\(\\), and now the command\r\n\r\nfail2ban-client set &lt;JAIL&gt; banip &lt;IP&gt; \r\n\r\nis accepted and instead of responding \"global name 'time' is not defined\" as before, it responds with the IP, but the IP is not banned.",
        "attachments": [],
        "author": "msapiro",
        "timestamp": "2009-10-10 03:09:44",
        "slug": "2d83",
        "subject": "#48 New fail2ban-client set <JAIL> banip <IP> doesn't work."
      },
      {
        "text": "- **priority**: 5 --> 3",
        "attachments": [],
        "author": "msapiro",
        "timestamp": "2009-10-10 03:09:45",
        "slug": "b3ad",
        "subject": "#48 New fail2ban-client set <JAIL> banip <IP> doesn't work."
      },
      {
        "text": "banip does not work for me in CentOS 5.x \\(and presumably RHEL5.x\\). I have updated python to latest, 2.4.3-44. I have tried fail2ban 0.8.4 through 0.8.6, using rpm, tar, github versions. I manually changed filter.py to import the time module in 0.8.4. No errors at all reported, but no IP gets banned using banip. Filters do work, so automatic banning does work.",
        "attachments": [],
        "author": "tobinrw",
        "timestamp": "2011-12-22 00:30:23",
        "slug": "7398",
        "subject": "#48 New fail2ban-client set <JAIL> banip <IP> doesn't work."
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-10-10 03:09:45",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2b62718464f1a12fd15",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/3a0b54e4/",
  "ticket_num": 48,
  "custom_fields": {
    "_priority": "3"
  },
  "created_date": "2009-10-10 02:48:14"
},{
  "status": "open",
  "reported_by_id": "4fb32ede1be1ce76a00000ac",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "msapiro",
  "description": "The error is\r\n\r\nTraceback \\(most recent call last\\):\r\nFile \"/usr/bin/fail2ban-regex\", line 387, in ?\r\nif fail2banRegex.printStats\\(\\):\r\nFile \"/usr/bin/fail2ban-regex\", line 314, in printStats\r\nif ip\\[2\\]:\r\nIndexError: list index out of range\r\n\r\nThe problem is actually in testRegex\\(\\) which loops through the fail regexps and processes log lines through filter.processLine\\(\\) looking for matches. testRegex\\(\\) adds a False/True flag to the \\[IP, time\\] returned by filter.processLine\\(\\) to indicate whether this line also matched a previous regexp. The problem is that the return from filter.processLine\\(\\) is a list of \\[IP, time\\] lists and testRegex\\(\\) only adds the flag to the first item in the list. Thus, for a host name with multiple IP addresses, the second and subsequent entries added to \\_\\_ipList don't have a flag and printStats throws the exception trying to test the flag.\r\n\r\nA patch to fix the problem is attached.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban-regexp fails if a host name has multiple IP address",
  "discussion_thread": {
    "_id": "e851a9cc",
    "posts": [
      {
        "text": "patch to fix fail2ban-regex",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/e851a9cc/2a1e/attachment/fail2ban-regex.patch",
            "bytes": 524
          }
        ],
        "author": "msapiro",
        "timestamp": "2009-10-10 19:35:13",
        "slug": "2a1e",
        "subject": "#49 fail2ban-regexp fails if a host name has multiple IP address"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2009-10-10 19:35:13",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2b82718464f1a12fd2f",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/e851a9cc/",
  "ticket_num": 49,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2009-10-10 19:35:13"
},{
  "status": "open",
  "reported_by_id": "505f2da5bfc09e51f858294a",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "os2pat",
  "description": "The action file for hosts.deny unbans entries in /etc/hosts.deny when reloading/resetting fail2ban in spite of bantime being set to -1.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "w/bantime = -1 resetting unbans hosts.deny",
  "discussion_thread": {
    "_id": "1ae1c99e",
    "posts": [
      {
        "text": "- **priority**: 5 --> 8",
        "attachments": [],
        "author": "os2pat",
        "timestamp": "2010-08-16 12:50:21",
        "slug": "c1f7",
        "subject": "#53 w/bantime = -1 resetting unbans hosts.deny"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-08-16 12:50:21",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2bd2718464f1a12fd79",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/1ae1c99e/",
  "ticket_num": 53,
  "custom_fields": {
    "_priority": "8"
  },
  "created_date": "2010-08-16 12:49:04"
},{
  "status": "open",
  "reported_by_id": "4fb32ede1be1ce76a00000ac",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "msapiro",
  "description": "fail2ban 0.8.4\r\nCentOS 5\r\n\r\nThe following dialog shows the problem. I stopped a jail and then couldn't restart it. I wanted to stop and start the jail because I thought it would be the cleanest way to unban an IP which was banned by that jail.\r\n\r\n\\[root@sbh16 ~\\]\\# fail2ban-client stop httpd-auth\r\nJail stopped\r\n\\[root@sbh16 ~\\]\\# fail2ban-client start httpd-auth\r\nSorry but the jail 'httpd-auth' does not exist\r\n\r\nSo I can't start a stopped jail.\r\n\r\n\\[root@sbh16 ~\\]\\# fail2ban-client reload httpd-auth\r\nSorry but the jail 'httpd-auth' does not exist\r\n\r\nAnd it appears that I can't reload it either, but this is apparently misleading as the log shows\r\n\r\n2010-04-17 08:21:11,109 fail2ban.actions: WARNING \\[httpd-auth\\] Unban 76.103.216.75\r\n2010-04-17 08:21:11,492 fail2ban.jail   : INFO   Jail 'httpd-auth' stopped\r\n\r\nAbove shows IP unbanned and jail stopped\r\n\r\n2010-04-17 08:21:32,489 fail2ban.comm   : WARNING Invalid command: \\['start', 'httpd-auth'\\]\r\n\r\nThen the 'start' doesn't work.\r\n\r\n2010-04-17 08:22:26,103 fail2ban.comm   : WARNING Invalid command: \\['stop', 'httpd-auth'\\]\r\n\r\nNote that the 'reload' apparently first issues a 'stop' which fails because the jail is already stopped, and this error is reported, but then 'reload' continues as below to start the jail, but the successful start is not reported and the user is left with the impression that the jail is not running.\r\n\r\n2010-04-17 08:22:26,106 fail2ban.server : INFO   Changed logging target to /var/log/fail2ban.log for Fail2ban v0.8.4\r\n2010-04-17 08:22:26,122 fail2ban.jail   : INFO   Creating new jail 'httpd-auth'\r\n2010-04-17 08:22:26,123 fail2ban.jail   : INFO   Jail 'httpd-auth' uses poller\r\n2010-04-17 08:22:26,134 fail2ban.filter : INFO   Added logfile = /var/log/httpd/ssl\\_error\\_log\r\n2010-04-17 08:22:26,136 fail2ban.filter : INFO   Added logfile = /var/log/httpd/error\\_log\r\n2010-04-17 08:22:26,138 fail2ban.filter : INFO   Set maxRetry = 5\r\n2010-04-17 08:22:26,142 fail2ban.filter : INFO   Set findtime = 250\r\n2010-04-17 08:22:26,145 fail2ban.actions: INFO   Set banTime = 18000\r\n2010-04-17 08:22:26,190 fail2ban.jail   : INFO   Jail 'httpd-auth' started\r\n\r\nSo I guess the answer is to accomplish what I wanted in the first place, just do \"fail2ban-client reload httpd-auth\" and if I want to start a stopped jail, use reload and ignore the error on the terminal and check status or the log.\r\n",
  "labels": [
    "Interface (example)"
  ],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Can't start a jail with fail2ban-client/misleading messages",
  "discussion_thread": {
    "_id": "8f162ff9",
    "posts": [
      {
        "text": "- **priority**: 5 --> 3",
        "attachments": [],
        "author": "msapiro",
        "timestamp": "2010-04-17 16:03:56",
        "slug": "e602",
        "subject": "#50 Can't start a jail with fail2ban-client/misleading messages"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-04-17 16:03:56",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2b92718464f1a12fd40",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/8f162ff9/",
  "ticket_num": 50,
  "custom_fields": {
    "_priority": "3"
  },
  "created_date": "2010-04-17 16:02:54"
},{
  "status": "open",
  "reported_by_id": "51acf2ba2718464f1a12fd4e",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "wvroger",
  "description": "I am using Kerio mailserver and trying to get the date/time string to work.  \\(www.kerio.com\\) is the vendors website.  Can you assist in the proper syntax?\r\n\r\nI currently have\r\ntimepattern = %d/%b/%Y %H:%M:%S\r\n\r\n\r\nfailregex = Failed \\(POP3|IMAP\\) login from &lt;HOST&gt;\r\n\r\nbut get the following output when I test it.\r\n\r\nThanks\r\n\r\nFound a match for '\\[03/Jun/2010 01:15:52\\] Failed POP3 login from 173.6.248.162\r\n' but no valid date/time found for '\\[03/Jun/2010 01:15:52\\] Failed POP3 login from 173.6.248.162\r\n'. Please contact the author in order to get support for this format\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Time pattern match",
  "discussion_thread": {
    "_id": "ee5f04d1",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-06-03 05:45:29",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2ba2718464f1a12fd4d",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/ee5f04d1/",
  "ticket_num": 51,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2010-06-03 05:45:29"
},{
  "status": "open",
  "reported_by_id": "513db921c4314377b1d1fbf4",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "etheros",
  "description": "The SASL filter provided with 0.8.4 is not matching.\r\n\r\nSample log:\r\n\r\nJul  3 19:29:20 server postfix/smtpd\\[2569\\]: warning: hostname\\[ip address\\]: SASL PLAIN authentication failed: authentication failure\r\n\r\nA suggested fix provided on the Debian bugtracker \\(http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=573314\\) is working.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "SASL filter does not match",
  "discussion_thread": {
    "_id": "07ae6a3e",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-07-03 19:37:03",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2bc2718464f1a12fd72",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/07ae6a3e/",
  "ticket_num": 52,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2010-07-03 19:37:03"
},{
  "status": "open",
  "reported_by_id": "51acf2be2718464f1a12fd88",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "helmutschneider",
  "description": "\\# tail -5 /var/log/auth.log\r\nSep 19 20:17:06 teg sshd\\[64210\\]: Invalid user helmut2 from 93.205.124.19\r\nSep 19 20:17:18 teg sshd\\[64213\\]: Invalid user helmut2 from 2001:6f8:900:7cc::2\r\nSep 19 20:21:15 teg sshd\\[64333\\]: Invalid user helmut2 from 93.205.124.19\r\nSep 19 20:21:17 teg sshd\\[64335\\]: Invalid user helmut2 from 93.205.124.19\r\nSep 19 20:21:29 teg sshd\\[64337\\]: Invalid user helmut2 from 2001:6f8:900:7cc::2\r\n\\# fail2ban-regex /var/log/auth.log /usr/local/etc/fail2ban/filter.d/sshd.conf | grep \"number of match\"\r\nSuccess, the total number of match is 3\r\n\\#",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban (0.8.4) fails to detect IPv6 addresses",
  "discussion_thread": {
    "_id": "822af58b",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-09-19 18:23:43",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2be2718464f1a12fd87",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/822af58b/",
  "ticket_num": 54,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2010-09-19 18:23:43"
},{
  "status": "open",
  "reported_by_id": "51acf2be2718464f1a12fd88",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "helmutschneider",
  "description": "\\# grep -ir fail2ban /var/log/messages\r\nSep 20 05:16:06 loghost \u00ef\u00bb\u00bf&lt;28&gt;fail2ban.actions: WARNING \\[ssh\\] Ban 78.129.232.126\r\nSep 20 13:22:41 loghost \u00ef\u00bb\u00bf&lt;28&gt;fail2ban.actions: WARNING \\[ssh\\] Ban 93.205.114.146\r\nSep 20 13:22:41 teg \u00ef\u00bb\u00bf&lt;28&gt;fail2ban.actions: WARNING \\[ssh\\] Ban 93.205.114.146\r\n\\#\r\n\r\n\"\u00ef\u00bb\u00bf\" is, according to http://wikipedia.org/wiki/Byte\\_Order\\_Mark, the Byto Order Mark for UTF8, not sure where \"&lt;28&gt;\" is from.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban (0.8.4), corrupted syslog entry",
  "discussion_thread": {
    "_id": "5c58029d",
    "posts": [
      {
        "text": "It's a duplicate of \\#3071865",
        "attachments": [],
        "author": "baschny",
        "timestamp": "2011-05-23 10:27:03",
        "slug": "01f0",
        "subject": "#55 fail2ban (0.8.4), corrupted syslog entry"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-09-20 11:43:39",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c12718464f1a12fdac",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/5c58029d/",
  "ticket_num": 55,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2010-09-20 11:43:39"
},{
  "status": "open",
  "reported_by_id": "51acf2be2718464f1a12fd88",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "helmutschneider",
  "description": "\\# grep -ir fail2ban /var/log/messages\r\nSep 20 05:16:06 loghost \u00ef\u00bb\u00bf&lt;28&gt;fail2ban.actions: WARNING \\[ssh\\] Ban 78.129.232.126\r\nSep 20 13:22:41 loghost \u00ef\u00bb\u00bf&lt;28&gt;fail2ban.actions: WARNING \\[ssh\\] Ban 93.205.114.146\r\nSep 20 13:22:41 teg \u00ef\u00bb\u00bf&lt;28&gt;fail2ban.actions: WARNING \\[ssh\\] Ban 93.205.114.146\r\n\\#\r\n\r\n\"\u00ef\u00bb\u00bf\" is, according to http://wikipedia.org/wiki/Byte\\_Order\\_Mark, the Byto Order Mark for UTF8, not sure where \"&lt;28&gt;\" is from.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban (0.8.4), corrupted syslog entry",
  "discussion_thread": {
    "_id": "53bdddf2",
    "posts": [
      {
        "text": "I confirm that behaviour. Had to adapt logcheck rule to match this stuff. Started appearing on my Debian Squeeze system:\n\nfail2ban 0.8.4-3\npython 2.6.6-3+squeeze6\n\nMaybe its a python bug?",
        "attachments": [],
        "author": "baschny",
        "timestamp": "2011-05-23 10:25:57",
        "slug": "ef1b",
        "subject": "#56 fail2ban (0.8.4), corrupted syslog entry"
      },
      {
        "text": "I already posted this problem in the fail2ban-user mailing list and only now found this thread. Were you able to solve this problem? And how did you manage to adapt the log check rule? I tried changing mine and it works in logcheck-test but not in the \"real\" process.",
        "attachments": [],
        "author": "chengfu",
        "timestamp": "2012-01-24 20:54:24",
        "slug": "2c41",
        "subject": "#56 fail2ban (0.8.4), corrupted syslog entry"
      },
      {
        "text": "I have moved discussion on the issue to github:\r\nhttps://github.com/fail2ban/fail2ban/issues/32",
        "attachments": [],
        "author": "yarikoptic",
        "timestamp": "2012-01-25 23:50:33",
        "slug": "db8a",
        "subject": "#56 fail2ban (0.8.4), corrupted syslog entry"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-09-20 12:12:49",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c22718464f1a12fdbb",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/53bdddf2/",
  "ticket_num": 56,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2010-09-20 12:12:49"
},{
  "status": "open",
  "reported_by_id": "4f05ded8b9363c3ca8000331",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "jhcarver",
  "description": "I have two servers running fail2ban, one version 0.8.3 and the other 0.8.4.  Both servers frequently log fail2ban.actions.action: ERROR's when fail2ban is restarted.  The errors occur with various jails, sometimes when starting but mostly when stopping the jails.  See the attached file for snippets from both log files.\r\n\r\nI followed the suggestion I found at http://www.tutos-gameserver.fr/mybb/thread-826.html adding the line \" time.sleep\\(0.1\\)\" as follows:\r\n\r\ndef \\_\\_processCmd\\(self, cmd, showRet = True\\):\r\nbeautifier = Beautifier\\(\\)\r\nfor c in cmd:\r\ntime.sleep\\(0.1\\)\r\nbeautifier.setInputCmd\\(c\\)\r\n\r\nThis change seems to have fixed the errors on both servers.  I haven't seen this problem reported here, so I'm reporting it on behalf of Cyril Levert and Soldat Ryan.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban.actions.action: ERROR occurs often during restart",
  "discussion_thread": {
    "_id": "b07d9bd5",
    "posts": [
      {
        "text": "fail2ban.log snippets",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/b07d9bd5/b534/attachment/fail2ban-log-snippets",
            "bytes": 3453
          }
        ],
        "author": "jhcarver",
        "timestamp": "2011-03-12 21:35:22",
        "slug": "b534",
        "subject": "#58 fail2ban.actions.action: ERROR occurs often during restart"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-03-12 21:35:22",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c42718464f1a12fddc",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/b07d9bd5/",
  "ticket_num": 58,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-03-12 21:35:22"
},{
  "status": "open",
  "reported_by_id": "50ee711b34309d7d3906dd40",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "offlinehoster",
  "description": "If there is a date format like:\r\n\\[Mar 13 03:34:41\\] WARNING\\[1094\\] chan\\_sip.c: Bad request protocol password@1.2.3.4 SIP/2.0\r\n\r\nthe fail2ban regex will not check this and nothing will hapen with the iptables...\r\n\r\nfail2ban needs this date format:\r\n\\[2011-03-16 14:37:53\\] NOTICE\\[20226\\] chan\\_sip.c: Registration from '&lt;sip:671@1.2.3.4&gt;' failed for '0.0.0.0' - No matching peer found\r\n\r\nFail2ban needs a numeric date format, if there is a alphanumeric date format, there is no error message in the fail2ban log file...and you think it is working...but it isnt\\!\r\n\r\nI think there should be a date format check script and an output to the fail2ban log file with an information that the date format isnt correct.\r\n\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "alphanumeric date format -> fail2ban doesnt know this",
  "discussion_thread": {
    "_id": "00a50021",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-03-17 10:46:05",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c52718464f1a12fdee",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/00a50021/",
  "ticket_num": 59,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-03-17 10:46:05"
},{
  "status": "open",
  "reported_by_id": "4fd9aebdb9363c12100000ba",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "oobayly",
  "description": "I'm running the  FreeBSD fail2ban port and discovered a problem after finding that failed ssh logins weren't be being banned. After using fail2ban-regex on the bsd-ssh filter, I found there was a \"Bad value substitution\" error. Thinking this was a bug in the ported config, I tested against the stock sshd filter and found the same error:\r\n\r\nRunning tests\r\n=============\r\n\r\nUse regex file : sshd.conf\r\nTraceback \\(most recent call last\\):\r\nFile \"/usr/local/bin/fail2ban-regex\", line 362, in &lt;module&gt;\r\nif fail2banRegex.readRegex\\(sys.argv\\[2\\]\\) == False:\r\nFile \"/usr/local/bin/fail2ban-regex\", line 177, in readRegex\r\nfor m in reader.get\\(\"Definition\", \"failregex\"\\).split\\('\\n'\\)\\]\r\nFile \"/usr/local/lib/python2.6/ConfigParser.py\", line 546, in get\r\nreturn self.\\_interpolate\\(section, option, value, d\\)\r\nFile \"/usr/local/lib/python2.6/ConfigParser.py\", line 614, in \\_interpolate\r\nself.\\_interpolate\\_some\\(option, L, rawval, section, vars, 1\\)\r\nFile \"/usr/local/lib/python2.6/ConfigParser.py\", line 646, in \\_interpolate\\_some\r\noption, section, rest, var\\)\r\nConfigParser.InterpolationMissingOptionError: Bad value substitution:\r\nsection: \\[Definition\\]\r\noption : failregex\r\nkey    : \\_\\_prefix\\_line\r\nrawval : \\(?:error: PAM: \\)?Authentication failure for .\\* from &lt;HOST&gt;\\s\\*$\r\n^%\\(\\_\\_prefix\\_line\\)s\\(?:error: PAM: \\)?User not known to the underlying authentication module for .\\* from &lt;HOST&gt;\\s\\*$\r\n^%\\(\\_\\_prefix\\_line\\)sFailed \\(?:password|publickey\\) for .\\* from &lt;HOST&gt;\\(?: port \\d\\*\\)?\\(?: ssh\\d\\*\\)?$\r\n^%\\(\\_\\_prefix\\_line\\)sROOT LOGIN REFUSED.\\* FROM &lt;HOST&gt;\\s\\*$\r\n^%\\(\\_\\_prefix\\_line\\)s\\[iI\\]\\(?:llegal|nvalid\\) user .\\* from &lt;HOST&gt;\\s\\*$\r\n^%\\(\\_\\_prefix\\_line\\)sUser \\S+ from &lt;HOST&gt; not allowed because not listed in AllowUsers$\r\n^%\\(\\_\\_prefix\\_line\\)sauthentication failure; logname=\\S\\* uid=\\S\\* euid=\\S\\* tty=\\S\\* ruser=\\S\\* rhost=&lt;HOST&gt;\\(?:\\s+user=.\\*\\)?\\s\\*$\r\n^%\\(\\_\\_prefix\\_line\\)srefused connect from \\S+ \\\\\\(&lt;HOST&gt;\\\\\\)\\s\\*$\r\n^%\\(\\_\\_prefix\\_line\\)sAddress &lt;HOST&gt; .\\* POSSIBLE BREAK-IN ATTEMPT\\!\\*\\s\\*$\r\n^%\\(\\_\\_prefix\\_line\\)sUser \\S+ from &lt;HOST&gt; not allowed because none of user's groups are listed in AllowGroups$\r\n\r\nThe \\_\\_prefix\\_line variable is defined in common.conf, and sshd.conf includes common.conf. However it appears that common.conf isn't being included. If I simply copy & paste the definitions from common.conf into sshd.conf the filter executes properly.\r\n\r\nThe FreeBSD port isn't patching any of the stock fail2ban files, merely adding additional filters. Has anyone else experienced this problem?\r\n\r\nJohn",
  "labels": [
    "Interface (example)"
  ],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Action includes not working",
  "discussion_thread": {
    "_id": "9dc03e1e",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2010-10-07 14:31:08",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c32718464f1a12fdd5",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/9dc03e1e/",
  "ticket_num": 57,
  "custom_fields": {
    "_priority": "5",
    "_milestone": "v1.0 (example)"
  },
  "created_date": "2010-10-07 14:31:08"
},{
  "status": "open",
  "reported_by_id": "4cefcb640594ca7d3e000440",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "gerbier",
  "description": "looking at http://www.fail2ban.org/wiki/index.php/Special:AllPages : there is lot of pages selling  rollex, watches and others\r\n\r\nmay be you have update mediawiki",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "fail2ban site spammed",
  "discussion_thread": {
    "_id": "acdaf12e",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-04-27 11:30:59",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c52718464f1a12fdf5",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/acdaf12e/",
  "ticket_num": 60,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-04-27 11:30:59"
},{
  "status": "open",
  "reported_by_id": "4f3a9e56b9363c592f00010c",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "nhilliard",
  "description": "On BSD systems where syslogd is configured with the \"-v\" or \"-vv\" options, the log file format is changed slightly to include the message facility and priority.  This causes the \\_\\_prefix\\_line regex not to recognise valid syslog entries.\r\n\r\nStandard syslog format example:\r\nMay 25 13:38:00 hostname sshd\\[27435\\]: Invalid user testuser from 192.168.6.3\r\n\r\nVerbose syslog format example:\r\nMay 25 13:38:00 &lt;auth.info&gt; hostname sshd\\[27435\\]: Invalid user testuser from 192.168.6.3\r\n\r\nI've attached a fix to support both modes.\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "scan failure on BSD systems with verbose syslogd",
  "discussion_thread": {
    "_id": "cb8d11e0",
    "posts": [
      {
        "text": "Fix for BSD verbose mode syslogd",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/cb8d11e0/0b0e/attachment/fail2ban.diff",
            "bytes": 772
          }
        ],
        "author": "nhilliard",
        "timestamp": "2011-05-25 13:31:59",
        "slug": "0b0e",
        "subject": "#61 scan failure on BSD systems with verbose syslogd"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-05-25 13:31:49",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c62718464f1a12fdfc",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/cb8d11e0/",
  "ticket_num": 61,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-05-25 13:31:49"
},{
  "status": "open",
  "reported_by_id": "4fb204840594ca2ef40000ae",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "jleinenbach",
  "description": "Debian / fail2ban 0.8.4-3 and 0.8.4+svn20110323-1\r\n\r\nIf I follow the given example and try to use another logfile on a new line, fail2ban service fails to start.\r\n\\(Wildcards are not a problem.\\)\r\n\r\n/usr/share/doc/fail2ban/examples/jail.conf.gz\r\n\\# $Revision: 747 $\r\n...\r\n\\# This jail demonstrates the use of wildcards in \"logpath\".                                                                                                             \r\n\\# Moreover, it is possible to give other files on a new line.\r\n\r\nenabled  = false\r\nfilter   = apache-auth\r\naction   = hostsdeny\r\nlogpath  = /var/log/apache\\*/\\*error.log\r\n/home/www/myhomepage/error.log\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "jail: multiple logfiles not possible",
  "discussion_thread": {
    "_id": "e73e340c",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-07-22 18:48:46",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c72718464f1a12fe0f",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/e73e340c/",
  "ticket_num": 62,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-07-22 18:48:46"
},{
  "status": "open",
  "reported_by_id": "506f068071b75b10ebc2b3fd",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "adamspiers",
  "description": "On Fedora 15, some of my syslog messages contain kernel timestamps, such as:\r\n\r\nSep 25 12:51:01 myhost kernel: \\[773577.436184\\] sshd\\[25551\\]: Invalid user pgsql from 91.203.223.206\r\nSep 25 13:01:01 myhost kernel: \\[774178.096112\\] run-parts\\(/etc/cron.hourly\\)\\[26252\\]: finished mcelog.cron\r\n\r\nThe definition of \\_\\_prefix\\_line in filter.d/common.conf fails to recognise these.  Here is a patch:\r\n\r\nhttps://github.com/aspiers/Fail2Ban/commit/bdbb36434647a7c34b084ff7bf4f8ab31f846d3e",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "kernel timestamps defeat common prefix regexps",
  "discussion_thread": {
    "_id": "b26c61f5",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-09-25 12:07:46",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c82718464f1a12fe16",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/b26c61f5/",
  "ticket_num": 63,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-09-25 12:07:46"
},{
  "status": "open",
  "reported_by_id": "4fb7bc2cb9363c49f1000429",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "marsoftware",
  "description": "I'm not sure where this report should go, so I'll try to post it here.\r\n\r\nIn default configuration filter.d/pure-ftpd.conf contains regexp:\r\nfailregex = pure-ftpd\\(?:\\\\\\[\\d+\\\\\\]\\)?: \\(.+?@&lt;HOST&gt;\\) \\\\\\[WARNING\\\\\\] %\\(\\_\\_errmsg\\)s \\\\\\[.+\\\\\\]$\r\nIt doesn't work. It must be:\r\nfailregex = pure-ftpd\\(?:\\\\\\[\\d+\\\\\\]\\)?: \\\\\\(.+?@&lt;HOST&gt;\\\\\\) \\\\\\[WARNING\\\\\\] %\\(\\_\\_errmsg\\)s \\\\\\[.+\\\\\\]$\r\n\\(because hostname is printed in parenthesis by pure-ftpd\\).",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Incorrect regexp for pure-ftpd",
  "discussion_thread": {
    "_id": "6c2866a2",
    "posts": [],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-09-29 07:48:36",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c82718464f1a12fe1d",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/6c2866a2/",
  "ticket_num": 64,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-09-29 07:48:36"
},{
  "status": "open",
  "reported_by_id": "4d57de61bfc09e144e0b841b",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "linvinus",
  "description": "problem with proftpd.conf and Russian locale\r\n\r\nfail2ban report about following problem:\r\nFound a match for ' my\\_host proftpd\\[5391\\] 127.0.0.1\r\n\\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login\r\nattempted.\r\n' but no valid date/time found for '\u041e\u043a\u0442 03 14:13:08'. Please contact\r\nthe author in order to get support for this format\r\nFound a match for ' my\\_host proftpd\\[5392\\] 127.0.0.1\r\n\\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login\r\nattempted.\r\n' but no valid date/time found for '\u041e\u043a\u0442 03 14:13:09'. Please contact\r\nthe author in order to get support for this format\r\nFound a match for ' my\\_host proftpd\\[5393\\] 127.0.0.1\r\n\\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login\r\nattempted.\r\n' but no valid date/time found for '\u041e\u043a\u0442 03 14:13:35'. Please contact\r\nthe author in order to get support for this format\r\n\r\n\r\nOriginal log file:\r\n\u041e\u043a\u0442 03 14:13:08 my\\_host proftpd\\[5391\\] 127.0.0.1\r\n\\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login\r\nattempted.\r\n\u041e\u043a\u0442 03 14:13:09 my\\_host proftpd\\[5392\\] 127.0.0.1\r\n\\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login\r\nattempted.\r\n\u041e\u043a\u0442 03 14:13:35 my\\_host proftpd\\[5393\\] 127.0.0.1\r\n\\(111.222.333.444\\[111.222.333.444\\]\\): SECURITY VIOLATION: root login\r\nattempted.\r\n\r\n",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "locale time problem",
  "discussion_thread": {
    "_id": "50d639cd",
    "posts": [
      {
        "text": "",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/50d639cd/ece4/attachment/datetemplate.py.patch",
            "bytes": 1519
          }
        ],
        "author": "linvinus",
        "timestamp": "2011-10-03 17:08:56",
        "slug": "ece4",
        "subject": "#65 locale time problem"
      },
      {
        "text": "",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/50d639cd/0531/attachment/fail2ban-server.patch",
            "bytes": 349
          }
        ],
        "author": "linvinus",
        "timestamp": "2011-10-03 17:09:37",
        "slug": "0531",
        "subject": "#65 locale time problem"
      },
      {
        "text": "",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/50d639cd/2d7a/attachment/fail2ban-client.patch",
            "bytes": 359
          }
        ],
        "author": "linvinus",
        "timestamp": "2011-10-03 17:10:03",
        "slug": "2d7a",
        "subject": "#65 locale time problem"
      },
      {
        "text": "",
        "attachments": [
          {
            "url": "http://sourceforge.net/p/fail2ban/bugs/_discuss/thread/50d639cd/0958/attachment/fail2ban-regex.patch",
            "bytes": 602
          }
        ],
        "author": "linvinus",
        "timestamp": "2011-10-03 17:10:20",
        "slug": "0958",
        "subject": "#65 locale time problem"
      },
      {
        "text": "oops, i don't finished bug report.\r\nFollowing patches resolve this problem.",
        "attachments": [],
        "author": "linvinus",
        "timestamp": "2011-10-03 17:13:15",
        "slug": "7518",
        "subject": "#65 locale time problem"
      },
      {
        "text": "Sorry i forgot about my system.\r\n\r\ndebian\\_version 6.0.2\r\n\r\nii  fail2ban                                0.8.5-2                                 ban hosts that cause multiple authentication errors\r\nii  proftpd-basic                           1.3.3a-6squeeze1                        Versatile, virtual-hosting FTP daemon - binaries\r\n\r\nlocale ru\\_RU.utf8",
        "attachments": [],
        "author": "linvinus",
        "timestamp": "2011-10-03 17:25:02",
        "slug": "81c9",
        "subject": "#65 locale time problem"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2011-10-03 17:08:55",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2c92718464f1a12fe24",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/50d639cd/",
  "ticket_num": 65,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2011-10-03 17:08:55"
},{
  "status": "open",
  "reported_by_id": "5048b7d771b75b1104576b51",
  "related_artifacts": [],
  "attachments": [],
  "reported_by": "novazur",
  "description": "Hi,\r\nWith fail2ban 0.8.6 under gentoo, as a French user with locale LANG=fr\\_FR@euro, I had to remove Date lines in all sendmail\\*.conf because it is sent with date in french format which is not well understood by mail servers.\r\nI don't know if for you it's a bug but it was annoying for me \\(and me be others non EN users\\) and I wanted you to know that.",
  "labels": [],
  "assigned_to": "nobody",
  "assigned_to_id": null,
  "private": false,
  "summary": "Date format problem in action/sendmail-*.conf",
  "discussion_thread": {
    "_id": "2623d89a",
    "posts": [
      {
        "text": "Obviously, Fail2Ban SHOULD use day of week and month names only in English as required by RFC (http://tools.ietf.org/html/rfc2822#section-3.3).\r\nAs a workaround if you're using fail2ban package in Debian-based distro you may add LANG=\"en_US\" line to your /etc/default/fail2ban to force en_US locale for fail2ban process and get proper timestamps.\r\n\r\nUpdate: The bug was fixed in newer versions.\r\nsee \"Date in mail is in localized format which cause mail client behave weird\" ticket on Github\r\nhttps://github.com/fail2ban/fail2ban/issues/70",
        "attachments": [],
        "author": "luxintenebris",
        "timestamp": "2013-07-27 17:29:39.573000",
        "slug": "5799",
        "subject": "#66 Date format problem in action/sendmail-*.conf"
      }
    ],
    "discussion_id": "51acf2192718464f1a12f6bd",
    "subject": ""
  },
  "mod_date": "2013-07-27 17:29:40.477000",
  "votes_down": 0,
  "votes_up": 0,
  "_id": "51acf2cc2718464f1a12fe5a",
  "discussion_thread_url": "http://sourceforge.net/rest/p/fail2ban/bugs/_discuss/thread/2623d89a/",
  "ticket_num": 66,
  "custom_fields": {
    "_priority": "5"
  },
  "created_date": "2012-04-24 20:11:49"
}],
"tracker_config":{
  "_id": "51acf2192718464f1a12f6bb",
  "options": {
    "ordinal": 6,
    "import_id": "tracker/689044",
    "mount_point": "bugs",
    "TicketMonitoringType": null,
    "EnableVoting": false,
    "TicketMonitoringEmail": "",
    "mount_label": "Bugs"
  }
},
"milestones":[
  {
    "due_date": null,
    "complete": false,
    "name": "v1.0 (example)",
    "closed": 0,
    "total": 1,
    "description": "v1.0 (example)"
  }
],
"custom_fields":[
  {
    "milestones": [
      {
        "due_date": null,
        "description": "v1.0 (example)",
        "complete": false,
        "name": "v1.0 (example)"
      }
    ],
    "type": "milestone",
    "name": "_milestone",
    "label": "Group"
  },
  {
    "type": "select",
    "label": "Priority",
    "show_in_search": true,
    "options": "1 2 3 4 *5 6 7 8 9",
    "name": "_priority"
  }
],
"open_status_names":"open unread pending open-accepted open-fixed",
"closed_status_names":"closed closed-fixed closed-accepted closed-wont-fix",
"saved_bins":[
  {
    "sort": "mod_date_dt desc",
    "_id": "51acf21a2718464f1a12f6c3",
    "terms": "!status:closed-accepted && !status:closed-wont-fix && !status:closed-fixed && !status:closed",
    "summary": "Changes"
  },
  {
    "sort": "",
    "_id": "51acf21a2718464f1a12f6c2",
    "terms": "status:closed-accepted or status:closed-wont-fix or status:closed-fixed or status:closed",
    "summary": "Closed Tickets"
  },
  {
    "sort": "",
    "_id": "51acf21a2718464f1a12f6c1",
    "terms": "!status:closed-accepted && !status:closed-wont-fix && !status:closed-fixed && !status:closed",
    "summary": "Open Tickets"
  }
]}